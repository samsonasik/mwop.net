<!DOCTYPE html>
<!--
  Copyright 2010 Google Inc.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.

  Original slides: Marcin Wichary (mwichary@google.com)
  Modifications: Ernest Delgado (ernestd@google.com)
                 Alex Russell (slightlyoff@chromium.org)

  landslide modifications: Adam Zapletal (adamzap@gmail.com)
                           Nicolas Perriault (nperriault@gmail.com)
-->
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>ZF2 Workshop</title>
    <!-- Styles -->
    
    <link rel="stylesheet" media="print" href="/usr/local/lib/python2.7/dist-packages/landslide-1.0.0-py2.7.egg/landslide/themes/default/css/print.css">
    <link rel="stylesheet" media="screen, projection" href="theme/css/screen.css">
    
    
    <!-- /Styles -->
    <!-- Javascripts -->
    
    <script type="text/javascript" src="theme/js/slides.js"></script>
    
    
    <!-- /Javascripts -->
</head>
<body>
  <div id="blank"></div>
  <div class="presentation">
    <div id="current_presenter_notes">
      <div id="presenter_note"></div>
    </div>
    <div class="slides">
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide titleslide">
          <div class="inner">
            
            <header><h1>ZF2 Workshop</h1></header>
            
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              1/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide centeredHeaders">
          <div class="inner">
            
            <header><h2>Our goal</h2></header>
            
            
            <section><h2>Better consistency and performance.</h2></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              2/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>How we'll get there</h2></header>
            
            
            <section><ol>
<li><strong>Community</strong></li>
</ol>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <p>Community has helped us identify the problems of ZF1, and also proposed and
provided solutions we're now using and incorporating into ZF2. We've had close
to 300 people make direct commits to ZF1, and close to 100 collaborators on ZF2
already. Our direction is now being driven by community proposals, IRC meetings,
and voting.</p>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              3/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>How we'll get there</h2></header>
            
            
            <section><ol>
<li>Community</li>
<li><strong>Emphasis on SOLID principles</strong></li>
</ol>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <ul>
<li><strong>S</strong> ingle-responsibility principle</li>
<li><strong>O</strong> pen/closed principle, </li>
<li><strong>L</strong> iskov substitution principle, </li>
<li><strong>I</strong> nterface segregation principle, </li>
<li><strong>D</strong> ependency inversion principle. </li>
</ul>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              4/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>How we'll get there</h2></header>
            
            
            <section><ol>
<li>Community</li>
<li>Emphasis on SOLID principles</li>
<li><strong>Embrace the new features of PHP 5.3+</strong></li>
</ol>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <p>We're using namespaces, autoloading, closures, late static binding, functors,
all the yumminess of SPL, even goto</p>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              5/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>How we'll get there</h2></header>
            
            
            <section><ol>
<li>Community</li>
<li>Emphasis on SOLID principles</li>
<li>Utilize PHP 5.3+ to full advantage</li>
<li><strong>Fully utilize HTTP</strong></li>
</ol>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <p>The HTTP specification is full of goodies, and we leverage it and code to it
with a redesigned HTTP component. This includes full encapsulation of HTTP
methods, headers, cookies, and more, and becomes the core of our new MVC layer.</p>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              6/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide sectionslide">
          <div class="inner">
            
            <header><h1>A New Core</h1></header>
            
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              7/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide centeredHeaders">
          <div class="inner">
            
            <header><h2>The ZF1 Way</h2></header>
            
            
            <section><p>Singletons, Registries, and Hard-Coded Dependencies</p>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <p>The main entry point to a ZF1 app was a singleton, Zend_Controller_Front.
Registries have long been promoted as a way to access dependencies, and are the
primary way i18n/l10n work. Controllers typically instantiated objects they
needed directly. It's a mess.</p>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              8/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide centeredHeaders">
          <div class="inner">
            
            <header><h2>The ZF2 Way</h2></header>
            
            
            <section><p>Aspect Oriented Design and Dependency Injection</p>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <p>The two biggest questions as we've worked on ZF2 have centered around how
controllers could get their dependencies, and how to make systems flexible.
Tasks like logging, caching, and authorization should be simple to initiate.</p>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              9/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Dependency Injection</h1></header>
            
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              10/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>Basic Dependency Injection</h2></header>
            
            
            <section><p>Dependency Injection is not magic.</p>
<div class="highlight"><pre><span class="lineno"> 1</span> <span class="cp">&lt;?php</span>
<span class="lineno"> 2</span> <span class="k">class</span> <span class="nc">Bar</span> <span class="p">{}</span>
<span class="lineno"> 3</span> 
<span class="lineno"> 4</span> <span class="k">class</span> <span class="nc">Foo</span>
<span class="lineno"> 5</span> <span class="p">{</span>
<span class="lineno"> 6</span>     <span class="k">protected</span> <span class="nv">$bar</span><span class="p">;</span>
<span class="lineno"> 7</span> 
<span class="lineno"> 8</span>     <span class="k">public</span> <span class="k">function</span> <span class="nf">__construct</span><span class="p">(</span><span class="nx">Bar</span> <span class="nv">$bar</span><span class="p">)</span>
<span class="lineno"> 9</span>     <span class="p">{</span>
<span class="lineno">10</span>         <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">bar</span> <span class="o">=</span> <span class="nv">$bar</span><span class="p">;</span>
<span class="lineno">11</span>     <span class="p">}</span>
<span class="lineno">12</span> <span class="p">}</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              11/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>Setter Injection</h2></header>
            
            
            <section><p>Sometimes we use setters.</p>
<div class="highlight"><pre><span class="lineno"> 1</span> <span class="cp">&lt;?php</span>
<span class="lineno"> 2</span> <span class="k">class</span> <span class="nc">Foo</span>
<span class="lineno"> 3</span> <span class="p">{</span>
<span class="lineno"> 4</span>     <span class="k">protected</span> <span class="nv">$bar</span><span class="p">;</span>
<span class="lineno"> 5</span> 
<span class="lineno"> 6</span>     <span class="k">public</span> <span class="k">function</span> <span class="nf">setBar</span><span class="p">(</span><span class="nx">Bar</span> <span class="nv">$bar</span><span class="p">)</span>
<span class="lineno"> 7</span>     <span class="p">{</span>
<span class="lineno"> 8</span>         <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">bar</span> <span class="o">=</span> <span class="nv">$bar</span><span class="p">;</span>
<span class="lineno"> 9</span>     <span class="p">}</span>
<span class="lineno">10</span> <span class="p">}</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              12/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>It solves a problem</h2></header>
            
            
            <section><ul>
<li>How do we enforce a separation of concerns?</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              13/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>It creates a new problem</h2></header>
            
            
            <section><ul>
<li>How and when do we create and inject dependencies?</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              14/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>DI Containers</h2></header>
            
            
            <section><ul>
<li>Store object definitions, including dependency information</li>
<li>Store environment-specific configuration of the dependencies</li>
<li>Handle the creation of objects and their dependencies</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              15/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>Sample Definition</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="cp">&lt;?php</span>
<span class="lineno"> 2</span> <span class="nv">$definition</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno"> 3</span>     <span class="s1">&#39;Foo&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno"> 4</span>         <span class="s1">&#39;setBar&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno"> 5</span>             <span class="s1">&#39;bar&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno"> 6</span>                 <span class="s1">&#39;type&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;Bar&#39;</span><span class="p">,</span>
<span class="lineno"> 7</span>                 <span class="s1">&#39;required&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
<span class="lineno"> 8</span>             <span class="p">),</span>
<span class="lineno"> 9</span>         <span class="p">),</span>
<span class="lineno">10</span>     <span class="p">),</span>
<span class="lineno">11</span> <span class="p">);</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              16/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>Using the DI Container</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="cp">&lt;?php</span>
<span class="lineno"> 2</span> <span class="k">use</span> <span class="nx">Zend\Di\Di</span><span class="p">,</span>
<span class="lineno"> 3</span>     <span class="nx">Zend\Di\Configuration</span><span class="p">;</span>
<span class="lineno"> 4</span> 
<span class="lineno"> 5</span> <span class="nv">$di</span>     <span class="o">=</span> <span class="k">new</span> <span class="nx">Di</span><span class="p">;</span>
<span class="lineno"> 6</span> <span class="nv">$config</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Configuration</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
<span class="lineno"> 7</span>     <span class="s1">&#39;definition&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;class&#39;</span> <span class="o">=&gt;</span> <span class="nv">$definition</span><span class="p">)</span>
<span class="lineno"> 8</span> <span class="p">));</span>
<span class="lineno"> 9</span> <span class="nv">$config</span><span class="o">-&gt;</span><span class="na">configure</span><span class="p">(</span><span class="nv">$di</span><span class="p">);</span>
<span class="lineno">10</span> 
<span class="lineno">11</span> <span class="nv">$foo</span> <span class="o">=</span> <span class="nv">$di</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;Foo&#39;</span><span class="p">);</span> <span class="c1">// contains Bar!</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              17/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code smaller-code">
          <div class="inner">
            
            <header><h2>Typically configuration-driven</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="cp">&lt;?php</span>
<span class="lineno"> 2</span> <span class="k">return</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;di&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;instance&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno"> 3</span>     <span class="s1">&#39;Cache\Adapter\Memcached&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;parameters&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno"> 4</span>         <span class="s1">&#39;options&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Cache\Adapter\MemcachedOptions&#39;</span><span class="p">,</span>
<span class="lineno"> 5</span>     <span class="p">)),</span>
<span class="lineno"> 6</span> 
<span class="lineno"> 7</span>     <span class="s1">&#39;Cache\Adapter\MemcachedOptions&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;parameters&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno"> 8</span>         <span class="s1">&#39;options&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno"> 9</span>             <span class="s1">&#39;namespace&#39;</span>       <span class="o">=&gt;</span> <span class="s1">&#39;cache_listener&#39;</span><span class="p">,</span>
<span class="lineno">10</span>             <span class="s1">&#39;ttl&#39;</span>             <span class="o">=&gt;</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">24</span> <span class="o">*</span> <span class="mi">7</span><span class="p">,</span> <span class="c1">// 1 week</span>
<span class="lineno">11</span>             <span class="s1">&#39;server&#39;</span>          <span class="o">=&gt;</span> <span class="s1">&#39;127.0.0.1&#39;</span><span class="p">,</span>
<span class="lineno">12</span>             <span class="s1">&#39;port&#39;</span>            <span class="o">=&gt;</span> <span class="mi">11211</span><span class="p">,</span>
<span class="lineno">13</span>             <span class="s1">&#39;compression&#39;</span>     <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
<span class="lineno">14</span>             <span class="s1">&#39;binary_protocol&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
<span class="lineno">15</span>             <span class="s1">&#39;no_block&#39;</span>        <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
<span class="lineno">16</span>             <span class="s1">&#39;connect_timeout&#39;</span> <span class="o">=&gt;</span> <span class="mi">100</span><span class="p">,</span>
<span class="lineno">17</span>             <span class="s1">&#39;serializer&#39;</span>      <span class="o">=&gt;</span> <span class="mi">3</span><span class="p">,</span> <span class="c1">// JSON</span>
<span class="lineno">18</span>         <span class="p">),</span>
<span class="lineno">19</span>     <span class="p">)),</span>
<span class="lineno">20</span> <span class="p">)));</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              18/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>Multiple DI strategies</h2></header>
            
            
            <section><ul>
<li>Runtime (using Reflection)</li>
<li>Compiled (pre-compile to classes)</li>
<li>Builder (programmatically create)</li>
<li>Annotation (hint to Runtime or Compiled strategies)</li>
</ul>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <p>Annotation support is primarily to make interface injection possible.</p>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              19/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Aspects, Signals and Events, oh my!</h1></header>
            
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <p>All similar concepts, with different nuances.</p>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              20/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>Terminology</h2></header>
            
            
            <section><ul>
<li>An <em>Event</em> is an <em>action</em></li>
<li>A <em>Listener</em> is a callback that responds to an <em>event</em></li>
<li>An <em>EventManager</em> is a collection of <em>listeners</em> and <em>triggers</em> events</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              21/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>In a Nutshell</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="cp">&lt;?php</span>
<span class="lineno"> 2</span> <span class="k">use</span> <span class="nx">Zend\EventManager\EventManager</span><span class="p">;</span>
<span class="lineno"> 3</span> 
<span class="lineno"> 4</span> <span class="nv">$events</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">EventManager</span><span class="p">();</span>
<span class="lineno"> 5</span> 
<span class="lineno"> 6</span> <span class="nv">$events</span><span class="o">-&gt;</span><span class="na">attach</span><span class="p">(</span><span class="s1">&#39;do&#39;</span><span class="p">,</span> <span class="k">function</span><span class="p">(</span><span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno"> 7</span>     <span class="nv">$event</span>  <span class="o">=</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getName</span><span class="p">();</span>
<span class="lineno"> 8</span>     <span class="nv">$params</span> <span class="o">=</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getParams</span><span class="p">();</span>
<span class="lineno"> 9</span>     <span class="nb">printf</span><span class="p">(</span>
<span class="lineno">10</span>         <span class="s1">&#39;Handled event &quot;%s&quot;, with parameters %s&#39;</span><span class="p">,</span>
<span class="lineno">11</span>         <span class="nv">$event</span><span class="p">,</span>
<span class="lineno">12</span>         <span class="nx">json_encode</span><span class="p">(</span><span class="nv">$params</span><span class="p">)</span>
<span class="lineno">13</span>     <span class="p">);</span>
<span class="lineno">14</span> <span class="p">});</span>
<span class="lineno">15</span> 
<span class="lineno">16</span> <span class="nv">$params</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="s1">&#39;baz&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;bat&#39;</span><span class="p">);</span>
<span class="lineno">17</span> <span class="nv">$events</span><span class="o">-&gt;</span><span class="na">trigger</span><span class="p">(</span><span class="s1">&#39;do&#39;</span><span class="p">,</span> <span class="k">null</span><span class="p">,</span> <span class="nv">$params</span><span class="p">);</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              22/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>Attach</h2></header>
            
            
            <section><ul>
<li>An event <em>name</em> </li>
<li>The callback that will respond</li>
<li>Optionally, the priority at which to listen</li>
</ul>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <p>Priority allows doing pre/post style hooks</p>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              23/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            
            <section><div class="highlight"><pre><span class="lineno">1</span> <span class="cp">&lt;?php</span>
<span class="lineno">2</span> <span class="nv">$events</span><span class="o">-&gt;</span><span class="na">attach</span><span class="p">(</span><span class="s1">&#39;do&#39;</span><span class="p">,</span> <span class="nv">$callback</span><span class="p">);</span>       <span class="c1">// base priority</span>
<span class="lineno">3</span> <span class="nv">$events</span><span class="o">-&gt;</span><span class="na">attach</span><span class="p">(</span><span class="s1">&#39;do&#39;</span><span class="p">,</span> <span class="nv">$callback</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>  <span class="c1">// high priority</span>
<span class="lineno">4</span> <span class="nv">$events</span><span class="o">-&gt;</span><span class="na">attach</span><span class="p">(</span><span class="s1">&#39;do&#39;</span><span class="p">,</span> <span class="nv">$callback</span><span class="p">,</span> <span class="o">-</span><span class="mi">100</span><span class="p">);</span> <span class="c1">// low priority</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              24/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>Trigger</h2></header>
            
            
            <section><p>Typically:</p>
<ul>
<li>Event <em>name</em></li>
<li>Target (object or function triggering the event)</li>
<li>Arguments</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              25/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            
            <section><div class="highlight"><pre><span class="lineno">1</span> <span class="cp">&lt;?php</span>
<span class="lineno">2</span> <span class="c1">// instance method</span>
<span class="lineno">3</span> <span class="k">public</span> <span class="k">function</span> <span class="nf">foo</span><span class="p">(</span><span class="nv">$bar</span><span class="p">,</span> <span class="nv">$baz</span><span class="p">)</span>
<span class="lineno">4</span> <span class="p">{</span>
<span class="lineno">5</span>     <span class="nv">$params</span> <span class="o">=</span> <span class="nb">compact</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="s1">&#39;baz&#39;</span><span class="p">);</span>
<span class="lineno">6</span>     <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">events</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">trigger</span><span class="p">(</span><span class="s1">&#39;do&#39;</span><span class="p">,</span> <span class="nv">$this</span><span class="p">,</span> <span class="nv">$params</span><span class="p">);</span>
<span class="lineno">7</span> <span class="p">}</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              26/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>Event</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="cp">&lt;?php</span>
<span class="lineno"> 2</span> <span class="k">interface</span> <span class="nx">EventDescription</span>
<span class="lineno"> 3</span> <span class="p">{</span>
<span class="lineno"> 4</span>     <span class="k">public</span> <span class="k">function</span> <span class="nf">setName</span><span class="p">(</span><span class="nv">$name</span><span class="p">);</span>
<span class="lineno"> 5</span>     <span class="k">public</span> <span class="k">function</span> <span class="nf">setTarget</span><span class="p">(</span><span class="nv">$target</span><span class="p">);</span>
<span class="lineno"> 6</span>     <span class="k">public</span> <span class="k">function</span> <span class="nf">setParams</span><span class="p">(</span><span class="nv">$params</span><span class="p">);</span>
<span class="lineno"> 7</span>     <span class="k">public</span> <span class="k">function</span> <span class="nf">getName</span><span class="p">();</span>
<span class="lineno"> 8</span>     <span class="k">public</span> <span class="k">function</span> <span class="nf">getTarget</span><span class="p">();</span>
<span class="lineno"> 9</span>     <span class="k">public</span> <span class="k">function</span> <span class="nf">getParam</span><span class="p">(</span><span class="nv">$name</span><span class="p">,</span> <span class="nv">$default</span> <span class="o">=</span> <span class="k">null</span><span class="p">);</span>
<span class="lineno">10</span>     <span class="k">public</span> <span class="k">function</span> <span class="nf">getParams</span><span class="p">();</span>
<span class="lineno">11</span> <span class="p">}</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              27/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>Listeners</h2></header>
            
            
            <section><p>Listeners receive an <em>Event</em> as their sole argument.</p>
<p>Listeners can be <em>any</em> valid PHP callback.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              28/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="cp">&lt;?php</span>
<span class="lineno"> 2</span> <span class="k">function</span> <span class="p">(</span><span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno"> 3</span>     <span class="nv">$event</span>  <span class="o">=</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getName</span><span class="p">();</span>
<span class="lineno"> 4</span>     <span class="nv">$target</span> <span class="o">=</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getTarget</span><span class="p">();</span>
<span class="lineno"> 5</span>     <span class="nv">$target</span> <span class="o">=</span> <span class="p">(</span><span class="nb">is_object</span><span class="p">(</span><span class="nv">$target</span><span class="p">)</span> 
<span class="lineno"> 6</span>             <span class="o">?</span> <span class="nb">get_class</span><span class="p">(</span><span class="nv">$target</span><span class="p">)</span> 
<span class="lineno"> 7</span>             <span class="o">:</span> <span class="nb">gettype</span><span class="p">(</span><span class="nv">$target</span><span class="p">))</span>
<span class="lineno"> 8</span>     <span class="nv">$params</span> <span class="o">=</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getParams</span><span class="p">();</span>
<span class="lineno"> 9</span>     <span class="nb">printf</span><span class="p">(</span>
<span class="lineno">10</span>         <span class="s1">&#39;Event &quot;%s&quot;, params %s, target &quot;%s&quot;&#39;</span><span class="p">,</span>
<span class="lineno">11</span>         <span class="nv">$event</span><span class="p">,</span>
<span class="lineno">12</span>         <span class="nx">json_encode</span><span class="p">(</span><span class="nv">$params</span><span class="p">),</span>
<span class="lineno">13</span>         <span class="nv">$target</span>
<span class="lineno">14</span>     <span class="p">);</span>
<span class="lineno">15</span> <span class="p">}</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              29/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Digression: Custom Events</h1></header>
            
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              30/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Semantics matter.</h1></header>
            
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              31/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>An Example of Bad Semantics</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno">1</span> <span class="cp">&lt;?php</span>
<span class="lineno">2</span> <span class="nv">$callback</span> <span class="o">=</span> <span class="k">function</span><span class="p">(</span><span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno">3</span>     <span class="nv">$result</span>  <span class="o">=</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getParam</span><span class="p">(</span><span class="s1">&#39;__RESULT__&#39;</span><span class="p">);</span>
<span class="lineno">4</span>     <span class="nv">$matches</span> <span class="o">=</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getParam</span><span class="p">(</span><span class="s1">&#39;route-match&#39;</span><span class="p">);</span>
<span class="lineno">5</span>     <span class="c1">// ...</span>
<span class="lineno">6</span> <span class="p">};</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              32/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>Better Semantics</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno">1</span> <span class="cp">&lt;?php</span>
<span class="lineno">2</span> <span class="nv">$callback</span> <span class="o">=</span> <span class="k">function</span><span class="p">(</span><span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno">3</span>     <span class="nv">$result</span>  <span class="o">=</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getResult</span><span class="p">();</span>
<span class="lineno">4</span>     <span class="nv">$matches</span> <span class="o">=</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getRouteMatch</span><span class="p">();</span>
<span class="lineno">5</span>     <span class="c1">// ...</span>
<span class="lineno">6</span> <span class="p">};</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              33/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>Creating Custom Events</h2></header>
            
            
            <section><p>Easiest is to simply extend Zend&#92;EventManager&#92;Event:</p>
<div class="highlight"><pre><span class="lineno"> 1</span> <span class="cp">&lt;?php</span>
<span class="lineno"> 2</span> <span class="k">use</span> <span class="nx">Zend\EventManager\Event</span><span class="p">;</span>
<span class="lineno"> 3</span> 
<span class="lineno"> 4</span> <span class="k">class</span> <span class="nc">MyEvent</span> <span class="k">extends</span> <span class="nx">Event</span>
<span class="lineno"> 5</span> <span class="p">{</span>
<span class="lineno"> 6</span>     <span class="k">protected</span> <span class="nv">$result</span><span class="p">;</span>
<span class="lineno"> 7</span> 
<span class="lineno"> 8</span>     <span class="k">public</span> <span class="k">function</span> <span class="nf">setResult</span><span class="p">(</span><span class="nv">$result</span><span class="p">)</span>
<span class="lineno"> 9</span>     <span class="p">{</span>
<span class="lineno">10</span>         <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">setParam</span><span class="p">(</span><span class="s1">&#39;result&#39;</span><span class="p">,</span> <span class="nv">$result</span><span class="p">);</span>
<span class="lineno">11</span>     <span class="p">}</span>
<span class="lineno">12</span> 
<span class="lineno">13</span>     <span class="k">public</span> <span class="k">function</span> <span class="nf">getResult</span><span class="p">()</span>
<span class="lineno">14</span>     <span class="p">{</span>
<span class="lineno">15</span>         <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getParam</span><span class="p">(</span><span class="s1">&#39;result&#39;</span><span class="p">);</span>
<span class="lineno">16</span>     <span class="p">}</span>
<span class="lineno">17</span> <span class="p">}</span>
</pre></div>

</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <p>Using built-in parameters makes martialling easier.</p>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              34/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>Using Custom Events: part 1</h2></header>
            
            
            <section><p>Pass as sole parameter:</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="cp">&lt;?php</span>
<span class="lineno">2</span> <span class="nv">$event</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MyEvent</span><span class="p">();</span>
<span class="lineno">3</span> <span class="nv">$event</span><span class="o">-&gt;</span><span class="na">setName</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">);</span>
<span class="lineno">4</span> <span class="nv">$event</span><span class="o">-&gt;</span><span class="na">setTarget</span><span class="p">(</span><span class="nv">$this</span><span class="p">);</span>
<span class="lineno">5</span> 
<span class="lineno">6</span> <span class="nv">$events</span><span class="o">-&gt;</span><span class="na">trigger</span><span class="p">(</span><span class="nv">$event</span><span class="p">);</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              35/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>Using Custom Events: part 2</h2></header>
            
            
            <section><p>Pass as second parameter:</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="cp">&lt;?php</span>
<span class="lineno">2</span> <span class="nv">$event</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MyEvent</span><span class="p">();</span>
<span class="lineno">3</span> <span class="nv">$event</span><span class="o">-&gt;</span><span class="na">setTarget</span><span class="p">(</span><span class="nv">$this</span><span class="p">);</span>
<span class="lineno">4</span> 
<span class="lineno">5</span> <span class="nv">$events</span><span class="o">-&gt;</span><span class="na">trigger</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="nv">$event</span><span class="p">);</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              36/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>Using Custom Events: part 3</h2></header>
            
            
            <section><p>Pass as third parameter:</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="cp">&lt;?php</span>
<span class="lineno">2</span> <span class="nv">$event</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MyEvent</span><span class="p">();</span>
<span class="lineno">3</span> 
<span class="lineno">4</span> <span class="nv">$events</span><span class="o">-&gt;</span><span class="na">trigger</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="nv">$this</span><span class="p">,</span> <span class="nv">$event</span><span class="p">);</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              37/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Recommended Usage</h1></header>
            
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              38/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code smaller-code">
          <div class="inner">
            
            <header><h2>Compose an EventManager</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="cp">&lt;?php</span>
<span class="lineno"> 2</span> <span class="k">use</span> <span class="nx">Zend\EventManager\EventCollection</span><span class="p">,</span>
<span class="lineno"> 3</span>     <span class="nx">Zend\EventManager\EventManager</span><span class="p">;</span>
<span class="lineno"> 4</span> <span class="k">class</span> <span class="nc">Foo</span>
<span class="lineno"> 5</span> <span class="p">{</span>
<span class="lineno"> 6</span>     <span class="k">protected</span> <span class="nv">$events</span><span class="p">;</span>
<span class="lineno"> 7</span>     <span class="k">public</span> <span class="k">function</span> <span class="nf">setEventManager</span><span class="p">(</span><span class="nx">EventCollection</span> <span class="nv">$events</span><span class="p">)</span>
<span class="lineno"> 8</span>     <span class="p">{</span>
<span class="lineno"> 9</span>         <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">events</span> <span class="o">=</span> <span class="nv">$events</span><span class="p">;</span>
<span class="lineno">10</span>     <span class="p">}</span>
<span class="lineno">11</span>     <span class="k">public</span> <span class="k">function</span> <span class="nf">events</span><span class="p">()</span>
<span class="lineno">12</span>     <span class="p">{</span>
<span class="lineno">13</span>         <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">events</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno">14</span>             <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">setEventManager</span><span class="p">(</span><span class="k">new</span> <span class="nx">EventManager</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
<span class="lineno">15</span>                 <span class="nx">__CLASS__</span><span class="p">,</span> <span class="nx">get_called_class</span><span class="p">(),</span>
<span class="lineno">16</span>             <span class="p">));</span>
<span class="lineno">17</span>         <span class="p">}</span>
<span class="lineno">18</span>         <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">events</span><span class="p">;</span>
<span class="lineno">19</span>     <span class="p">}</span>
<span class="lineno">20</span> <span class="p">}</span>
</pre></div>

</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <p>This would make a great Trait</p>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              39/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code smaller-code">
          <div class="inner">
            
            <header><h2>Trigger Events</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="cp">&lt;?php</span>
<span class="lineno"> 2</span> <span class="k">class</span> <span class="nc">Foo</span>
<span class="lineno"> 3</span> <span class="p">{</span>
<span class="lineno"> 4</span>     <span class="c1">// ...</span>
<span class="lineno"> 5</span> 
<span class="lineno"> 6</span>     <span class="k">public</span> <span class="k">function</span> <span class="nf">bar</span><span class="p">(</span><span class="nv">$baz</span><span class="p">,</span> <span class="nv">$bat</span> <span class="o">=</span> <span class="k">null</span><span class="p">)</span>
<span class="lineno"> 7</span>     <span class="p">{</span>
<span class="lineno"> 8</span>         <span class="nv">$params</span> <span class="o">=</span> <span class="nb">compact</span><span class="p">(</span><span class="nv">$baz</span><span class="p">,</span> <span class="nv">$bat</span><span class="p">);</span>
<span class="lineno"> 9</span>         <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">events</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">trigger</span><span class="p">(</span><span class="nx">__FUNCTION__</span><span class="p">,</span> <span class="nv">$this</span><span class="p">,</span> <span class="nv">$params</span><span class="p">);</span>
<span class="lineno">10</span>     <span class="p">}</span>
<span class="lineno">11</span> <span class="p">}</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              40/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>Notes on Triggering</h2></header>
            
            
            <section><ul>
<li>Use the method name as the event.<ul>
<li>If triggering more than one event, use dot-notation (e.g., "dispatch.pre",
  "dispatch.post").</li>
</ul>
</li>
<li>Pass all input to the method as parameters.</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              41/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Aggregate Listeners</h1></header>
            
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              42/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide centeredHeaders">
          <div class="inner">
            
            <header><h1>Sometimes you'll want stateful listeners.</h1></header>
            
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <p>Examples might be composing object collaborators</p>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              43/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide centeredHeaders">
          <div class="inner">
            
            <header><h1>Sometimes listeners fall under the same area of responsibility.</h1></header>
            
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <p>Example includes view listener in ZF2 - views, layouts, error pages</p>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              44/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>Aggregate Listeners</h2></header>
            
            
            <section><ul>
<li>Allow attaching and detaching many listeners at once</li>
<li>Pass an aggregate to the event manager, or vice versa</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              45/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code smaller-code">
          <div class="inner">
            
            <header><h2>Example</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="cp">&lt;?php</span>
<span class="lineno"> 2</span> <span class="k">class</span> <span class="nc">LogEvents</span> <span class="k">implements</span> <span class="nx">ListenerAggregate</span>
<span class="lineno"> 3</span> <span class="p">{</span>
<span class="lineno"> 4</span>     <span class="k">protected</span> <span class="nv">$handlers</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>
<span class="lineno"> 5</span>     <span class="k">protected</span> <span class="nv">$log</span><span class="p">;</span>
<span class="lineno"> 6</span> 
<span class="lineno"> 7</span>     <span class="k">public</span> <span class="k">function</span> <span class="nf">__construct</span><span class="p">(</span><span class="nx">Logger</span> <span class="nv">$log</span><span class="p">)</span>
<span class="lineno"> 8</span>     <span class="p">{</span>
<span class="lineno"> 9</span>         <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">log</span> <span class="o">=</span> <span class="nv">$log</span><span class="p">;</span>
<span class="lineno">10</span>     <span class="p">}</span>
<span class="lineno">11</span> 
<span class="lineno">12</span>     <span class="k">public</span> <span class="k">function</span> <span class="nf">log</span><span class="p">(</span><span class="nx">Event</span> <span class="nv">$e</span><span class="p">)</span>
<span class="lineno">13</span>     <span class="p">{</span>
<span class="lineno">14</span>         <span class="nv">$event</span>  <span class="o">=</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getName</span><span class="p">();</span>
<span class="lineno">15</span>         <span class="nv">$params</span> <span class="o">=</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getParams</span><span class="p">();</span>
<span class="lineno">16</span>         <span class="nv">$log</span><span class="o">-&gt;</span><span class="na">info</span><span class="p">(</span><span class="nb">sprintf</span><span class="p">(</span><span class="s1">&#39;%s: %s&#39;</span><span class="p">,</span> <span class="nv">$event</span><span class="p">,</span> <span class="nx">json_encode</span><span class="p">(</span><span class="nv">$params</span><span class="p">)));</span>
<span class="lineno">17</span>     <span class="p">}</span>
<span class="lineno">18</span> 
<span class="lineno">19</span>     <span class="c1">// ...</span>
<span class="lineno">20</span> <span class="p">}</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              46/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code smaller-code">
          <div class="inner">
            
            <header><h2>Aggregate Functionality</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="cp">&lt;?php</span>
<span class="lineno"> 2</span> <span class="k">public</span> <span class="k">function</span> <span class="nf">attach</span><span class="p">(</span><span class="nx">EventCollection</span> <span class="nv">$events</span><span class="p">)</span>
<span class="lineno"> 3</span> <span class="p">{</span>
<span class="lineno"> 4</span>     <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">handlers</span><span class="p">[]</span> <span class="o">=</span> <span class="nv">$events</span><span class="o">-&gt;</span><span class="na">attach</span><span class="p">(</span><span class="s1">&#39;do&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="nv">$this</span><span class="p">,</span> <span class="s1">&#39;log&#39;</span><span class="p">));</span>
<span class="lineno"> 5</span>     <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">handlers</span><span class="p">[]</span> <span class="o">=</span> <span class="nv">$events</span><span class="o">-&gt;</span><span class="na">attach</span><span class="p">(</span><span class="s1">&#39;doSomethingElse&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="nv">$this</span><span class="p">,</span> <span class="s1">&#39;log&#39;</span><span class="p">));</span>
<span class="lineno"> 6</span> <span class="p">}</span>
<span class="lineno"> 7</span> 
<span class="lineno"> 8</span> <span class="k">public</span> <span class="k">function</span> <span class="nf">detach</span><span class="p">(</span><span class="nx">EventCollection</span> <span class="nv">$events</span><span class="p">)</span>
<span class="lineno"> 9</span> <span class="p">{</span>
<span class="lineno">10</span>     <span class="k">foreach</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">handlers</span> <span class="k">as</span> <span class="nv">$key</span> <span class="o">=&gt;</span> <span class="nv">$handler</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno">11</span>         <span class="nv">$events</span><span class="o">-&gt;</span><span class="na">detach</span><span class="p">(</span><span class="nv">$handler</span><span class="p">);</span>
<span class="lineno">12</span>         <span class="nb">unset</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">handlers</span><span class="p">[</span><span class="nv">$key</span><span class="p">];</span>
<span class="lineno">13</span>     <span class="p">}</span>
<span class="lineno">14</span>     <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">handlers</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>
<span class="lineno">15</span> <span class="p">}</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              47/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>Using Aggregates</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno">1</span> <span class="cp">&lt;?php</span>
<span class="lineno">2</span> <span class="nv">$logEvents</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">LogEvents</span><span class="p">(</span><span class="nv">$logger</span><span class="p">);</span>
<span class="lineno">3</span> <span class="nv">$events</span><span class="o">-&gt;</span><span class="na">attach</span><span class="p">(</span><span class="nv">$logEvents</span><span class="p">);</span>
<span class="lineno">4</span> 
<span class="lineno">5</span> <span class="c1">// or</span>
<span class="lineno">6</span> <span class="nv">$logEvents</span><span class="o">-&gt;</span><span class="na">attach</span><span class="p">(</span><span class="nv">$events</span><span class="p">);</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              48/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Attaching Listeners Globally</h1></header>
            
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              49/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>Why?</h2></header>
            
            
            <section><ul>
<li>Listeners are often used for <em>cross-cutting concerns</em>.</li>
<li>Often, you'll want to setup listeners early, before you have access to
  specific event manager instances.</li>
<li>E.g., logging, debugging, caching.</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              50/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>How?</h2></header>
            
            
            <section><p>Use the StaticEventManager.</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="cp">&lt;?php</span>
<span class="lineno">2</span> <span class="k">use</span> <span class="nx">Zend\EventManager\StaticEventManager</span><span class="p">;</span>
<span class="lineno">3</span> <span class="nv">$events</span> <span class="o">=</span> <span class="nx">StaticEventManager</span><span class="o">::</span><span class="na">getInstance</span><span class="p">();</span>
<span class="lineno">4</span> <span class="nv">$events</span><span class="o">-&gt;</span><span class="na">attach</span><span class="p">(</span><span class="nv">$context</span><span class="p">,</span> <span class="nv">$event</span><span class="p">,</span> <span class="nv">$callback</span><span class="p">);</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              51/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>What is the "context"?</h2></header>
            
            
            <section><ul>
<li>Each EventManager instance can listen on one or more contexts<ul>
<li>Provided to the constructor</li>
<li>Alternately added using <code>setIdentifier()</code></li>
</ul>
</li>
<li>When triggering events, checks to see if any listeners were registered for its
  contexts with the StaticEventManager</li>
<li>You can disable this at any time!</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              52/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>Example</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno">1</span> <span class="cp">&lt;?php</span>
<span class="lineno">2</span> <span class="k">use</span> <span class="nx">Zend\EventManager\StaticEventManager</span><span class="p">;</span>
<span class="lineno">3</span> <span class="nv">$events</span> <span class="o">=</span> <span class="nx">StaticEventManager</span><span class="o">::</span><span class="na">getInstance</span><span class="p">();</span>
<span class="lineno">4</span> <span class="nv">$events</span><span class="o">-&gt;</span><span class="na">attach</span><span class="p">(</span><span class="s1">&#39;Foo&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno">5</span>     <span class="nv">$event</span>  <span class="o">=</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getName</span><span class="p">();</span>
<span class="lineno">6</span>     <span class="nv">$target</span> <span class="o">=</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getTarget</span><span class="p">();</span>
<span class="lineno">7</span>     <span class="nv">$params</span> <span class="o">=</span> <span class="nx">json_encode</span><span class="p">(</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getParams</span><span class="p">());</span>
<span class="lineno">8</span>     <span class="nb">sprintf</span><span class="p">(</span><span class="s1">&#39;%s::%s: %s&#39;</span><span class="p">,</span> <span class="nv">$event</span><span class="p">,</span> <span class="nv">$target</span><span class="p">,</span> <span class="nv">$params</span><span class="p">);</span>
<span class="lineno">9</span> <span class="p">});</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              53/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Advanced Topics</h1></header>
            
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              54/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Short Circuiting</h1></header>
            
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              55/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>What?</h2></header>
            
            
            <section><ul>
<li>Sometimes you may want to return early based on what a listener does</li>
<li>Sometimes a listener may want to prevent other listeners from processing</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              56/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>How?</h2></header>
            
            
            <section><p><strong>Method 1:</strong> Attach a callback when triggering</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="cp">&lt;?php</span>
<span class="lineno">2</span> <span class="nv">$results</span> <span class="o">=</span> <span class="nv">$events</span><span class="o">-&gt;</span><span class="na">trigger</span><span class="p">(</span><span class="nv">$event</span><span class="p">,</span> <span class="k">function</span><span class="p">(</span><span class="nv">$r</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno">3</span>     <span class="k">return</span> <span class="p">(</span><span class="nv">$r</span> <span class="nx">instanceof</span> <span class="nx">Response</span><span class="p">);</span>
<span class="lineno">4</span> <span class="p">});</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              57/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>How?</h2></header>
            
            
            <section><p><strong>Method 2:</strong> Signal from a listener</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="cp">&lt;?php</span>
<span class="lineno">2</span> <span class="nv">$listener</span> <span class="o">=</span> <span class="k">function</span> <span class="p">(</span><span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno">3</span>     <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">stopPropagation</span><span class="p">(</span><span class="k">true</span><span class="p">);</span>
<span class="lineno">4</span> <span class="p">};</span>
</pre></div>

</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <p>This is like JavaScript</p>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              58/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>Testing for stopped propagation</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno">1</span> <span class="cp">&lt;?php</span>
<span class="lineno">2</span> <span class="nv">$results</span> <span class="o">=</span> <span class="nv">$events</span><span class="o">-&gt;</span><span class="na">trigger</span><span class="p">(</span><span class="cm">/* ... */</span><span class="p">);</span>
<span class="lineno">3</span> <span class="k">if</span> <span class="p">(</span><span class="nv">$results</span><span class="o">-&gt;</span><span class="na">stopped</span><span class="p">())</span> <span class="p">{</span>
<span class="lineno">4</span>     <span class="k">return</span> <span class="nv">$results</span><span class="o">-&gt;</span><span class="na">last</span><span class="p">();</span>
<span class="lineno">5</span> <span class="p">}</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              59/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Introspecting results</h1></header>
            
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              60/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>Iterate:</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno">1</span> <span class="cp">&lt;?php</span>
<span class="lineno">2</span> <span class="k">foreach</span> <span class="p">(</span><span class="nv">$results</span> <span class="k">as</span> <span class="nv">$result</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno">3</span>     <span class="c1">// ...</span>
<span class="lineno">4</span> <span class="p">}</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              61/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>First result:</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno">1</span> <span class="cp">&lt;?php</span>
<span class="lineno">2</span> <span class="nv">$first</span> <span class="o">=</span> <span class="nv">$results</span><span class="o">-&gt;</span><span class="na">first</span><span class="p">();</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              62/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>Last result:</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno">1</span> <span class="cp">&lt;?php</span>
<span class="lineno">2</span> <span class="nv">$first</span> <span class="o">=</span> <span class="nv">$results</span><span class="o">-&gt;</span><span class="na">last</span><span class="p">();</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              63/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>Test for specific value:</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno">1</span> <span class="cp">&lt;?php</span>
<span class="lineno">2</span> <span class="k">if</span> <span class="p">(</span><span class="nv">$results</span><span class="o">-&gt;</span><span class="na">contains</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">))</span> <span class="p">{</span>
<span class="lineno">3</span>     <span class="c1">// found!</span>
<span class="lineno">4</span> <span class="p">}</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              64/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Prioritized Events</h1></header>
            
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              65/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>Why?</h2></header>
            
            
            <section><p>Sometimes events need to execute in a given order.</p>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <p>Examples: ACLs, caching</p>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              66/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>How?</h2></header>
            
            
            <section><ul>
<li>Optional final argument to attach() (even statically)</li>
<li>Default priority is 1</li>
<li>Higher values == higher priority</li>
<li>Negative values == lower priority</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              67/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>Examples</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno">1</span> <span class="cp">&lt;?php</span>
<span class="lineno">2</span> <span class="c1">// High priority:</span>
<span class="lineno">3</span> <span class="nv">$events</span><span class="o">-&gt;</span><span class="na">attach</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="nv">$listener</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
<span class="lineno">4</span> 
<span class="lineno">5</span> <span class="c1">// Low priority:</span>
<span class="lineno">6</span> <span class="nv">$events</span><span class="o">-&gt;</span><span class="na">attach</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="nv">$listener</span><span class="p">,</span> <span class="o">-</span><span class="mi">100</span><span class="p">);</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              68/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Putting it Together</h1></header>
            
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              69/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code smaller-code">
          <div class="inner">
            
            <header><h2>Our target</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="cp">&lt;?php</span>
<span class="lineno"> 2</span> <span class="k">public</span> <span class="k">function</span> <span class="nf">someExpensiveCall</span><span class="p">(</span><span class="nv">$criteria1</span><span class="p">,</span> <span class="nv">$criteria2</span><span class="p">)</span>
<span class="lineno"> 3</span> <span class="p">{</span>
<span class="lineno"> 4</span>     <span class="nv">$params</span>  <span class="o">=</span> <span class="nb">compact</span><span class="p">(</span><span class="s1">&#39;criteria1&#39;</span><span class="p">,</span> <span class="s1">&#39;criteria2&#39;</span><span class="p">);</span>
<span class="lineno"> 5</span>     <span class="nv">$results</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">events</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">trigger</span><span class="p">(</span>
<span class="lineno"> 6</span>         <span class="nx">__FUNCTION__</span> <span class="o">.</span> <span class="s1">&#39;.pre&#39;</span><span class="p">,</span> <span class="nv">$this</span><span class="p">,</span> <span class="nv">$params</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nv">$r</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno"> 7</span>         <span class="k">return</span> <span class="p">(</span><span class="nv">$r</span> <span class="nx">instanceof</span> <span class="nx">SomeResultClass</span><span class="p">);</span>
<span class="lineno"> 8</span>     <span class="p">});</span>
<span class="lineno"> 9</span>     <span class="k">if</span> <span class="p">(</span><span class="nv">$results</span><span class="o">-&gt;</span><span class="na">stopped</span><span class="p">())</span> <span class="p">{</span>
<span class="lineno">10</span>         <span class="k">return</span> <span class="nv">$results</span><span class="o">-&gt;</span><span class="na">last</span><span class="p">();</span>
<span class="lineno">11</span>     <span class="p">}</span>
<span class="lineno">12</span> 
<span class="lineno">13</span>     <span class="c1">// ... do some work ...</span>
<span class="lineno">14</span> 
<span class="lineno">15</span>     <span class="cm">/* $params[&#39;__RESULT__&#39;] = $calculatedResult; */</span>
<span class="lineno">16</span>     <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">events</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">trigger</span><span class="p">(</span>
<span class="lineno">17</span>         <span class="nx">__FUNCTION__</span> <span class="o">.</span> <span class="s1">&#39;.post&#39;</span><span class="p">,</span> <span class="nv">$this</span><span class="p">,</span> <span class="nv">$params</span><span class="p">);</span>
<span class="lineno">18</span>     <span class="k">return</span> <span class="nv">$calculatedResult</span><span class="p">;</span>
<span class="lineno">19</span> <span class="p">}</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              70/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code smaller-code">
          <div class="inner">
            
            <header><h2>Caching: check for match</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno">1</span> <span class="cp">&lt;?php</span>
<span class="lineno">2</span> <span class="nv">$events</span><span class="o">-&gt;</span><span class="na">attach</span><span class="p">(</span><span class="s1">&#39;someExpensiveCall.pre&#39;</span><span class="p">,</span> <span class="k">function</span><span class="p">(</span><span class="nv">$e</span><span class="p">)</span> <span class="k">use</span> <span class="p">(</span><span class="nv">$cache</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno">3</span>     <span class="nv">$params</span> <span class="o">=</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getParams</span><span class="p">();</span>
<span class="lineno">4</span>     <span class="nv">$key</span>    <span class="o">=</span> <span class="nb">md5</span><span class="p">(</span><span class="nx">json_encode</span><span class="p">(</span><span class="nv">$params</span><span class="p">));</span>
<span class="lineno">5</span>     <span class="k">if</span> <span class="p">(</span><span class="k">false</span> <span class="o">!==</span> <span class="p">(</span><span class="nv">$hit</span> <span class="o">=</span> <span class="nv">$cache</span><span class="o">-&gt;</span><span class="na">load</span><span class="p">(</span><span class="nv">$key</span><span class="p">))</span> <span class="p">{</span>
<span class="lineno">6</span>         <span class="k">return</span> <span class="nv">$hit</span><span class="p">;</span>
<span class="lineno">7</span>     <span class="p">}</span>
<span class="lineno">8</span> <span class="p">},</span> <span class="mi">100</span><span class="p">);</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              71/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code smaller-code">
          <div class="inner">
            
            <header><h2>Caching: cache a value</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno">1</span> <span class="cp">&lt;?php</span>
<span class="lineno">2</span> <span class="nv">$events</span><span class="o">-&gt;</span><span class="na">attach</span><span class="p">(</span><span class="s1">&#39;someExpensiveCall.post&#39;</span><span class="p">,</span> <span class="k">function</span><span class="p">(</span><span class="nv">$e</span><span class="p">)</span> <span class="k">use</span> <span class="p">(</span><span class="nv">$cache</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno">3</span>     <span class="nv">$params</span> <span class="o">=</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getParams</span><span class="p">();</span>
<span class="lineno">4</span>     <span class="nv">$result</span> <span class="o">=</span> <span class="nv">$params</span><span class="p">[</span><span class="s1">&#39;__RESULT__&#39;</span><span class="p">];</span>
<span class="lineno">5</span>     <span class="nb">unset</span><span class="p">(</span><span class="nv">$params</span><span class="p">[</span><span class="s1">&#39;__RESULT__&#39;</span><span class="p">]);</span>
<span class="lineno">6</span>     <span class="nv">$key</span>    <span class="o">=</span> <span class="nb">md5</span><span class="p">(</span><span class="nx">json_encode</span><span class="p">(</span><span class="nv">$params</span><span class="p">));</span>
<span class="lineno">7</span>     <span class="nv">$cache</span><span class="o">-&gt;</span><span class="na">save</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="nv">$key</span><span class="p">);</span>
<span class="lineno">8</span> <span class="p">},</span> <span class="o">-</span><span class="mi">100</span><span class="p">);</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              72/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>Summary</h2></header>
            
            
            <section><p>Use the EventManager. It's powerful. It's the basis of our Application
architecture.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              73/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>MVC</h1></header>
            
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <p>I'm going to show you the MVC from the inside out, using a flow
diagram to detail how it works.</p>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              74/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>In a nutshell...</h2></header>
            
            
            <section><p><img alt="ZF2 MVC flow" src="images/mvc-flow.jpg" title="ZF2 MVC" /></p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              75/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>From the inside out</h2></header>
            
            
            <section><ul>
<li>Dispatchable interface</li>
<li>Request and Response objects</li>
<li>View Models</li>
<li>Routing</li>
<li>Route types</li>
<li>Tree routes</li>
<li>Modules</li>
<li>Bootstrapping</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              76/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Controllers and HTTP</h1></header>
            
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <ul>
<li>We'll now detail the dispatchable interface, basic controllers, the
  request/response/header objects, and view models</li>
</ul>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              77/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>Zend\Stdlib\Dispatchable</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno">1</span> <span class="cp">&lt;?php</span>
<span class="lineno">2</span> <span class="k">namespace</span> <span class="nx">Zend\Stdlib</span><span class="p">;</span>
<span class="lineno">3</span> 
<span class="lineno">4</span> <span class="k">interface</span> <span class="nx">Dispatchable</span>
<span class="lineno">5</span> <span class="p">{</span>
<span class="lineno">6</span>     <span class="k">public</span> <span class="k">function</span> <span class="nf">dispatch</span><span class="p">(</span>
<span class="lineno">7</span>         <span class="nx">RequestDescription</span> <span class="nv">$request</span><span class="p">,</span> 
<span class="lineno">8</span>         <span class="nx">ResponseDescription</span> <span class="nv">$response</span> <span class="o">=</span> <span class="k">null</span><span class="p">);</span>
<span class="lineno">9</span> <span class="p">}</span>
</pre></div>

</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <p>It's so simple and obvious. It can be used by servers to accept requests and
return responses, or by clients, to send requests, and parse responses.</p>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              78/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>Use Cases for Dispatchables</h2></header>
            
            
            <section><ul>
<li>Strategy/Command patterns</li>
<li>Server classes</li>
<li>HTTP clients</li>
<li><strong>MVC applications</strong></li>
</ul>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <p>One thing interesting about the MVC is that because the same base is used for
server classes and general Strategies or Commands, these, too, can be attached
to the MVC directly, with little or no extra overhead.</p>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              79/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>Most basic controller</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="cp">&lt;?php</span>
<span class="lineno"> 2</span> <span class="k">namespace</span> <span class="nx">Foo\Controller</span><span class="p">;</span>
<span class="lineno"> 3</span> 
<span class="lineno"> 4</span> <span class="k">use</span> <span class="nx">Zend\Stdlib\Dispatchable</span><span class="p">,</span>
<span class="lineno"> 5</span>     <span class="nx">Zend\Stdlib\RequestDescription</span> <span class="k">as</span> <span class="nx">Request</span><span class="p">,</span>
<span class="lineno"> 6</span>     <span class="nx">Zend\Stdlib\ResponseDescription</span> <span class="k">as</span> <span class="nx">Response</span><span class="p">;</span>
<span class="lineno"> 7</span> 
<span class="lineno"> 8</span> <span class="k">class</span> <span class="nc">MyController</span> <span class="k">implements</span> <span class="nx">Dispatchable</span>
<span class="lineno"> 9</span> <span class="p">{</span>
<span class="lineno">10</span>     <span class="k">public</span> <span class="k">function</span> <span class="nf">dispatch</span><span class="p">(</span>
<span class="lineno">11</span>         <span class="nx">Request</span> <span class="nv">$request</span><span class="p">,</span> <span class="nx">Response</span> <span class="nv">$response</span> <span class="o">=</span> <span class="k">null</span>
<span class="lineno">12</span>     <span class="p">)</span> <span class="p">{</span>
<span class="lineno">13</span>         <span class="c1">// do something and return a Response object</span>
<span class="lineno">14</span>     <span class="p">}</span>
<span class="lineno">15</span> <span class="p">}</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              80/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code smaller-code">
          <div class="inner">
            
            <header><h2>Typical Controller</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="cp">&lt;?php</span>
<span class="lineno"> 2</span> <span class="k">namespace</span> <span class="nx">Foo\Controller</span><span class="p">;</span>
<span class="lineno"> 3</span> 
<span class="lineno"> 4</span> <span class="k">use</span> <span class="nx">Zend\Mvc\Controller\ActionController</span><span class="p">;</span>
<span class="lineno"> 5</span> 
<span class="lineno"> 6</span> <span class="k">class</span> <span class="nc">HelloController</span> <span class="k">extends</span> <span class="nx">ActionController</span>
<span class="lineno"> 7</span> <span class="p">{</span>
<span class="lineno"> 8</span>     <span class="k">public</span> <span class="k">function</span> <span class="nf">worldAction</span><span class="p">()</span>
<span class="lineno"> 9</span>     <span class="p">{</span>
<span class="lineno">10</span>         <span class="nv">$routeMatch</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getEvent</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getRouteMatch</span><span class="p">()</span>
<span class="lineno">11</span>         <span class="nv">$post</span>       <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">request</span><span class="o">-&gt;</span><span class="na">post</span><span class="p">();</span>
<span class="lineno">12</span>         <span class="k">return</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno">13</span>             <span class="s1">&#39;target&#39;</span>  <span class="o">=&gt;</span> <span class="nv">$routeMatch</span><span class="o">-&gt;</span><span class="na">getParam</span><span class="p">(</span><span class="s1">&#39;target&#39;</span><span class="p">),</span>
<span class="lineno">14</span>             <span class="s1">&#39;message&#39;</span> <span class="o">=&gt;</span> <span class="nv">$post</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;message&#39;</span><span class="p">,</span> <span class="s1">&#39;Nobody&#39;</span><span class="p">),</span>
<span class="lineno">15</span>         <span class="p">);</span>
<span class="lineno">16</span>     <span class="p">}</span>
<span class="lineno">17</span> <span class="p">}</span>
</pre></div>

</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <ul>
<li>Looks a lot like ZF1</li>
<li>Has an explicit return -- easier to test</li>
<li>Inject dependencies via setters or constructor params</li>
<li>We also have a "RestfulController"</li>
</ul>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              81/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code smaller-code">
          <div class="inner">
            
            <header><h2>Proposed View Layer</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="cp">&lt;?php</span>
<span class="lineno"> 2</span> <span class="k">namespace</span> <span class="nx">Foo\Controller</span><span class="p">;</span>
<span class="lineno"> 3</span> 
<span class="lineno"> 4</span> <span class="k">use</span> <span class="nx">Zend\Mvc\Controller\ActionController</span><span class="p">,</span>
<span class="lineno"> 5</span>     <span class="nx">Zend\View\Model\ViewModel</span><span class="p">;</span>
<span class="lineno"> 6</span> 
<span class="lineno"> 7</span> <span class="k">class</span> <span class="nc">HelloController</span> <span class="k">extends</span> <span class="nx">ActionController</span>
<span class="lineno"> 8</span> <span class="p">{</span>
<span class="lineno"> 9</span>     <span class="k">public</span> <span class="k">function</span> <span class="nf">worldAction</span><span class="p">()</span>
<span class="lineno">10</span>     <span class="p">{</span>
<span class="lineno">11</span>         <span class="nv">$routeMatch</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getEvent</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getRouteMatch</span><span class="p">()</span>
<span class="lineno">12</span>         <span class="nv">$post</span>       <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">request</span><span class="o">-&gt;</span><span class="na">post</span><span class="p">();</span>
<span class="lineno">13</span>         <span class="k">return</span> <span class="k">new</span> <span class="nx">ViewModel</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
<span class="lineno">14</span>             <span class="s1">&#39;target&#39;</span>  <span class="o">=&gt;</span> <span class="nv">$routeMatch</span><span class="o">-&gt;</span><span class="na">getParam</span><span class="p">(</span><span class="s1">&#39;target&#39;</span><span class="p">),</span>
<span class="lineno">15</span>             <span class="s1">&#39;message&#39;</span> <span class="o">=&gt;</span> <span class="nv">$post</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;message&#39;</span><span class="p">,</span> <span class="s1">&#39;Nobody&#39;</span><span class="p">),</span>
<span class="lineno">16</span>         <span class="p">),</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno">17</span>             <span class="s1">&#39;template&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;foo/hello&#39;</span><span class="p">,</span>
<span class="lineno">18</span>         <span class="p">);</span>
<span class="lineno">19</span>     <span class="p">}</span>
<span class="lineno">20</span> <span class="p">}</span>
</pre></div>

</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <ul>
<li>Returning an explicit View Model</li>
</ul>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              82/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>Request Object</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno">1</span> <span class="cp">&lt;?php</span>
<span class="lineno">2</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">query</span><span class="p">();</span>   <span class="c1">// $_GET</span>
<span class="lineno">3</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">post</span><span class="p">();</span>    <span class="c1">// $_POST</span>
<span class="lineno">4</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">env</span><span class="p">();</span>     <span class="c1">// $_ENV</span>
<span class="lineno">5</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">server</span><span class="p">();</span>  <span class="c1">// $_SERVER</span>
<span class="lineno">6</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">file</span><span class="p">();</span>    <span class="c1">// $_FILES</span>
<span class="lineno">7</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">cookie</span><span class="p">();</span>  <span class="c1">// $_COOKIE</span>
<span class="lineno">8</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">uri</span><span class="p">();</span>     <span class="c1">// URI object</span>
<span class="lineno">9</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">headers</span><span class="p">();</span> <span class="c1">// headers</span>
</pre></div>

</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <ul>
<li>Has test methods for request method</li>
<li>Everything is mockable</li>
</ul>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              83/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>Response Object</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno">1</span> <span class="cp">&lt;?php</span>
<span class="lineno">2</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">setStatusCode</span><span class="p">(</span><span class="nv">$code</span><span class="p">);</span> <span class="c1">// Status</span>
<span class="lineno">3</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">headers</span><span class="p">();</span>            <span class="c1">// headers</span>
<span class="lineno">4</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">setContent</span><span class="p">(</span><span class="nv">$content</span><span class="p">);</span> <span class="c1">// body</span>
</pre></div>

</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <ul>
<li>Allows easy manipulation of all aspects of response</li>
</ul>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              84/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>Headers</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno">1</span> <span class="cp">&lt;?php</span>
<span class="lineno">2</span> <span class="nv">$headers</span><span class="o">-&gt;</span><span class="na">addHeaderLine</span><span class="p">(</span><span class="nv">$header</span><span class="p">,</span> <span class="nv">$value</span><span class="p">);</span> <span class="c1">// set</span>
<span class="lineno">3</span> <span class="nv">$headers</span><span class="o">-&gt;</span><span class="na">has</span><span class="p">(</span><span class="nv">$header</span><span class="p">);</span>                   <span class="c1">// test</span>
<span class="lineno">4</span> <span class="nv">$headers</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="nv">$header</span><span class="p">);</span>                   <span class="c1">// get</span>
<span class="lineno">5</span> <span class="nv">$header</span><span class="o">-&gt;</span><span class="na">getFieldValue</span><span class="p">();</span>                 <span class="c1">// get value</span>
</pre></div>

</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <ul>
<li>Many header types have specific APIs -- e.g., Accept header</li>
</ul>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              85/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>View Models</h2></header>
            
            
            <section><ul>
<li>Aggregate variables to expose</li>
<li>Aggregate renderer options</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              86/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>View Model: Example</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno">1</span> <span class="cp">&lt;?php</span>
<span class="lineno">2</span> <span class="nv">$model</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ViewModel</span><span class="p">();</span>
<span class="lineno">3</span> <span class="nv">$model</span><span class="o">-&gt;</span><span class="na">setVariable</span><span class="p">(</span><span class="nv">$name</span><span class="p">,</span> <span class="nv">$value</span><span class="p">);</span>
<span class="lineno">4</span> <span class="nv">$model</span><span class="o">-&gt;</span><span class="na">setVariables</span><span class="p">(</span><span class="nv">$array</span><span class="p">);</span>
<span class="lineno">5</span> <span class="nv">$model</span><span class="o">-&gt;</span><span class="na">getVariables</span><span class="p">();</span>
<span class="lineno">6</span> <span class="nv">$model</span><span class="o">-&gt;</span><span class="na">setOption</span><span class="p">(</span><span class="nv">$name</span><span class="p">,</span> <span class="nv">$value</span><span class="p">);</span>
<span class="lineno">7</span> <span class="nv">$model</span><span class="o">-&gt;</span><span class="na">setOptions</span><span class="p">(</span><span class="nv">$array</span><span class="p">);</span>
<span class="lineno">8</span> <span class="nv">$model</span><span class="o">-&gt;</span><span class="na">getOptions</span><span class="p">();</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              87/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>Context-Specific View Models</h2></header>
            
            
            <section><ul>
<li><code>JsonViewModel</code></li>
<li><code>FeedViewModel</code></li>
</ul>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <ul>
<li>These will typically not do much, but they <em>will</em> allow you to typehint and
  develop rendering strategies.</li>
</ul>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              88/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Routing Requests</h1></header>
            
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              89/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide centeredHeaders">
          <div class="inner">
            
            <header><h2>Routing</h2></header>
            
            
            <section><p>The act of matching a Request </p>
<p>to a Controller.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              90/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>Types of routes</h2></header>
            
            
            <section><ul>
<li><strong>Literal:</strong> <code>"/contact"</code></li>
<li><strong>Segment:</strong> <code>"/article/:id"</code></li>
<li><strong>Regex:</strong> <code>"/tag/(?&lt;tag&gt;[^/]+)"</code></li>
<li><strong>Part/TreeRouteStack:</strong> tree of routes</li>
<li><strong>Wildcard:</strong> <code>"/*"</code></li>
<li><strong>Hostname</strong> </li>
<li><strong>Scheme</strong> </li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              91/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>TreeRouteStack Example</h2></header>
            
            
            <section><pre><code>/blog -- Literal 
    .xml -- Literal ("/blog.xml")
    /(?&lt;id&gt;[^/]+) -- Regex ("/blog/foo")
    /tag/(?&lt;tag&gt;[^/.]+) -- Regex ("/blog/tag/foo")
        .xml -- Literal ("/blog/tag/foo.xml")
    /year/:year -- Segment ("/blog/year/2011")
    /month/:year/:month -- Segment ("/blog/month/2011/12")
</code></pre>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <ul>
<li>Any given route can indicate if it can terminate, or if additional segments
  are required</li>
<li>Any given route may have child routes</li>
<li>Each route gets full configuration for its type</li>
</ul>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              92/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>Routing</h2></header>
            
            
            <section><p>A matched route <strong>MUST</strong> return a controller</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="cp">&lt;?php</span>
<span class="lineno">2</span> <span class="k">use</span> <span class="nx">Zend\Mvc\Router\Http\Regex</span> <span class="k">as</span> <span class="nx">RegexRoute</span><span class="p">;</span>
<span class="lineno">3</span> <span class="nv">$route</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">RegexRoute</span><span class="p">(</span>
<span class="lineno">4</span>     <span class="s1">&#39;/blog/(?&lt;id&gt;[/.]+)&#39;</span><span class="p">,</span> 
<span class="lineno">5</span>     <span class="s1">&#39;/blog/%id%&#39;</span><span class="p">,</span> 
<span class="lineno">6</span>     <span class="k">array</span><span class="p">(</span>
<span class="lineno">7</span>         <span class="s1">&#39;controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Blog\Controller\EntryController&#39;</span>
<span class="lineno">8</span>     <span class="p">)</span>
<span class="lineno">9</span> <span class="p">);</span>
</pre></div>

</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <ul>
<li>Controller is what the Application is trying to <em>dispatch</em></li>
<li>Can be the class name (recommended) or an alias</li>
<li>Anything else returned is up to the developer -- "action" is not necessary, as
  your controller defines what to do based on the Request and RouteMatch</li>
</ul>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              93/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>A note on RouteMatch-es</h2></header>
            
            
            <section><p>Routes return a <code>RouteMatch</code> object on success</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="cp">&lt;?php</span>
<span class="lineno">2</span> <span class="k">namespace</span> <span class="nx">Zend\Mvc\Router</span><span class="p">;</span>
<span class="lineno">3</span> 
<span class="lineno">4</span> <span class="k">class</span> <span class="nc">RouteMatch</span>
<span class="lineno">5</span> <span class="p">{</span>
<span class="lineno">6</span>     <span class="k">public</span> <span class="k">function</span> <span class="nf">getMatchedRouteName</span><span class="p">();</span>
<span class="lineno">7</span>     <span class="k">public</span> <span class="k">function</span> <span class="nf">getParams</span><span class="p">();</span>
<span class="lineno">8</span>     <span class="k">public</span> <span class="k">function</span> <span class="nf">getParam</span><span class="p">(</span><span class="nv">$name</span><span class="p">,</span> <span class="nv">$default</span> <span class="o">=</span> <span class="k">null</span><span class="p">);</span>
<span class="lineno">9</span> <span class="p">}</span>
</pre></div>

</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <ul>
<li>This allows you to pull out anything matched by the route.</li>
<li>Routes part of a TreeRoute will contain all matched parameters.</li>
<li>Note that tree routes are designated using "/" separator between segments</li>
</ul>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              94/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Modular MVC Applications</h1></header>
            
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <p>What provides us with controllers and routes?</p>
<p>The answer is: modules</p>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              95/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>What is a module?</h1></header>
            
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <ul>
<li>Problem with ZF1: no re-use and sharing, due to architecture</li>
<li>ZF2's goal: share and collaborate</li>
<li>A module is a complete solution to a discrete problem or set of related
  problems</li>
</ul>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              96/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>Modules in ZF2</h2></header>
            
            
            <section><ul>
<li>A <strong>namespace</strong>,</li>
<li>containing a single classfile, a <strong>Module</strong></li>
</ul>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <ul>
<li>Structure is left to the developer, though we have a <em>recommended</em> structure</li>
<li>We have a few interfaces you can implement that hint to the module manager how
  a module can be <em>used</em></li>
</ul>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              97/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>Modules can contain...</h2></header>
            
            
            <section><ul>
<li>PHP code, <em>including MVC code</em></li>
<li>Assets, such as CSS, JS, and images</li>
<li>Unit tests</li>
<li>Documentation</li>
<li><em>Anything</em></li>
</ul>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <p>I've created a module that simply provided SkeletonCSS in a way that I could
easily drop it into a project. I have modules that are basically libraries, and
contain source code, unit tests, and documentation. The point is, they can
provide just about anything, because the only requirement is the Module class as
an entry point.</p>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              98/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>At the most basic...</h2></header>
            
            
            <section><pre><code>module/
    Foo/
        Module.php
</code></pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              99/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>The module class...</h2></header>
            
            
            <section><p>Which contains:</p>
<div class="highlight"><pre><span class="lineno">1</span> <span class="cp">&lt;?php</span>
<span class="lineno">2</span> <span class="k">namespace</span> <span class="nx">Foo</span><span class="p">;</span>
<span class="lineno">3</span> 
<span class="lineno">4</span> <span class="k">class</span> <span class="nc">Module</span> <span class="p">{</span> <span class="p">}</span>
</pre></div>

</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <ul>
<li>That's really it. It's a single entry point, and completely opt-in.</li>
</ul>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              100/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>Recommended module structure</h2></header>
            
            
            <section><pre><code>ModuleName/
    autoload_classmap.php
    Module.php
    config/
        module.config.php
    public/
        css/
        images/
        js/
    src/
        ModuleName/
            ... code ...
    test/
        ModuleName/
            ... code ...
    view/
        ... templates, etc. ...
</code></pre>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <ul>
<li>I mentioned before they can contain anything. We have a recommended structure
  to answer the question of "where do I put X, Y, or Z?"</li>
<li>Discuss some of the reasons behind the decisions</li>
</ul>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              101/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>Modules typically provide...</h2></header>
            
            
            <section><ul>
<li>Autoloading artifacts</li>
<li>Basic configuration</li>
<li>Event listener registration</li>
</ul>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <p>Commonly, we will provide DI and routing configuration.</p>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              102/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>Providing autoloading hints</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="cp">&lt;?php</span>
<span class="lineno"> 2</span> <span class="k">namespace</span> <span class="nx">Foo</span><span class="p">;</span>
<span class="lineno"> 3</span> <span class="k">use</span> <span class="nx">Zend\Module\Consumer\AutoloaderProvider</span><span class="p">;</span>
<span class="lineno"> 4</span> <span class="k">class</span> <span class="nc">Module</span> <span class="k">implements</span> <span class="nx">AutoloaderProvider</span>
<span class="lineno"> 5</span> <span class="p">{</span>
<span class="lineno"> 6</span>     <span class="k">public</span> <span class="k">function</span> <span class="nf">getAutoloaderConfig</span><span class="p">()</span>
<span class="lineno"> 7</span>     <span class="p">{</span>
<span class="lineno"> 8</span>       <span class="k">return</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno"> 9</span>         <span class="s1">&#39;Zend\Loader\ClassMapAutoloader&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno">10</span>           <span class="k">include</span> <span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">&#39;/autoload_classmap.php&#39;</span><span class="p">,</span>
<span class="lineno">11</span>         <span class="p">),</span>
<span class="lineno">12</span>         <span class="s1">&#39;Zend\Loader\StandardAutoloader&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno">13</span>           <span class="s1">&#39;namespaces&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno">14</span>             <span class="s1">&#39;Foo&#39;</span> <span class="o">=&gt;</span> <span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">&#39;/src/Foo&#39;</span><span class="p">,</span>
<span class="lineno">15</span>           <span class="p">),</span>
<span class="lineno">16</span>         <span class="p">),</span>
<span class="lineno">17</span>       <span class="p">);</span>
<span class="lineno">18</span>     <span class="p">}</span>
<span class="lineno">19</span> <span class="p">}</span>
</pre></div>

</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <ul>
<li>Basically, returning a configuration array to pass to the AutoloaderFactory.
  This ensures re-use of the same autoloader objects, but also means that the
  AutoloaderListener will be able to cache this configuration for later use.</li>
</ul>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              103/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>Providing configuration</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="cp">&lt;?php</span>
<span class="lineno"> 2</span> <span class="k">namespace</span> <span class="nx">Foo</span><span class="p">;</span>
<span class="lineno"> 3</span> 
<span class="lineno"> 4</span> <span class="k">class</span> <span class="nc">Module</span>
<span class="lineno"> 5</span> <span class="p">{</span>
<span class="lineno"> 6</span>     <span class="k">public</span> <span class="k">function</span> <span class="nf">getConfig</span><span class="p">()</span>
<span class="lineno"> 7</span>     <span class="p">{</span>
<span class="lineno"> 8</span>         <span class="k">return</span> <span class="k">include</span> <span class="nx">__DIR__</span> 
<span class="lineno"> 9</span>                 <span class="o">.</span> <span class="s1">&#39;/config/module.config.php&#39;</span><span class="p">;</span>
<span class="lineno">10</span>     <span class="p">}</span>
<span class="lineno">11</span> <span class="p">}</span>
</pre></div>

</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <ul>
<li>The config listener merges this configuration with the config it stores
  internally.</li>
</ul>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              104/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>Example module configuration</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno">1</span> <span class="cp">&lt;?php</span>
<span class="lineno">2</span> <span class="k">return</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno">3</span>     <span class="s1">&#39;routes&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span> <span class="cm">/* ... */</span> <span class="p">),</span>
<span class="lineno">4</span>     <span class="s1">&#39;di&#39;</span>     <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span> <span class="cm">/* ... */</span> <span class="p">),</span>
<span class="lineno">5</span> <span class="p">);</span>
</pre></div>

</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <ul>
<li>Note lack of environments; we do envs via glob merging</li>
</ul>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              105/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>Event registration (post-init tasks)</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="cp">&lt;?php</span>
<span class="lineno"> 2</span> <span class="k">namespace</span> <span class="nx">Foo</span><span class="p">;</span>
<span class="lineno"> 3</span> <span class="k">use</span> <span class="nx">Zend\EventManager\StaticEventManager</span><span class="p">,</span>
<span class="lineno"> 4</span>     <span class="nx">Zend\Module\Manager</span> <span class="k">as</span> <span class="nx">ModuleManager</span><span class="p">;</span>
<span class="lineno"> 5</span> <span class="k">class</span> <span class="nc">Module</span>
<span class="lineno"> 6</span> <span class="p">{</span>
<span class="lineno"> 7</span>     <span class="k">public</span> <span class="k">function</span> <span class="nf">init</span><span class="p">(</span><span class="nx">ModuleManager</span> <span class="nv">$manager</span><span class="p">)</span>
<span class="lineno"> 8</span>     <span class="p">{</span>
<span class="lineno"> 9</span>         <span class="nv">$events</span> <span class="o">=</span> <span class="nx">StaticEventManager</span><span class="o">::</span><span class="na">getInstance</span><span class="p">();</span>
<span class="lineno">10</span>         <span class="nv">$events</span><span class="o">-&gt;</span><span class="na">attach</span><span class="p">(</span>
<span class="lineno">11</span>             <span class="s1">&#39;bootstrap&#39;</span><span class="p">,</span> <span class="s1">&#39;bootstrap&#39;</span><span class="p">,</span> 
<span class="lineno">12</span>             <span class="k">array</span><span class="p">(</span><span class="nv">$this</span><span class="p">,</span> <span class="s1">&#39;bootstrap&#39;</span><span class="p">)</span>
<span class="lineno">13</span>         <span class="p">);</span>
<span class="lineno">14</span>     <span class="p">}</span>
<span class="lineno">15</span> 
<span class="lineno">16</span>     <span class="k">public</span> <span class="k">function</span> <span class="nf">bootstrap</span><span class="p">(</span><span class="nv">$e</span><span class="p">)</span>
<span class="lineno">17</span>     <span class="p">{</span>
<span class="lineno">18</span>         <span class="nv">$app</span>    <span class="o">=</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getParam</span><span class="p">(</span><span class="s1">&#39;application&#39;</span><span class="p">);</span>
<span class="lineno">19</span>         <span class="c1">// do some stuff...</span>
<span class="lineno">20</span>     <span class="p">}</span>
<span class="lineno">21</span> <span class="p">}</span>
</pre></div>

</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <ul>
<li>a special "InitTrigger" listener will call init() if it exists</li>
<li>this is a good place to register events</li>
<li>shows execution order: module manager aggregates items and triggers events; we
  then execute the bootstrap, which triggers other events; and then we run the
  application</li>
<li>Event at bootstrap knows about the application, config, and module manager</li>
</ul>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              106/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Bootstrapping and Application Running</h1></header>
            
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <p>We've reached the skin of the onion finally -- we'll now put it together.</p>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              107/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>Bootstrapping</h2></header>
            
            
            <section><ul>
<li>An <code>Application</code>: </li>
<li>composes configuration, a router, a locator, and an event manager.</li>
<li>triggers events (<code>route</code>, <code>dispatch</code>, and <code>finish</code>).</li>
<li>Modules provide: </li>
<li>configuration, which includes routes and locator information</li>
<li>event listeners.</li>
<li>Bootstrapping </li>
<li>aggregates information from modules </li>
<li>provides aggregated information to the application</li>
</ul>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <p>The second point is incredibly important. It means that if you want to provide
alternate strategies for routing or dispatch, all you need to do is replace
the listeners on those events.</p>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              108/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code smaller-code">
          <div class="inner">
            
            <header><h2>Putting it together: index.php</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="cp">&lt;?php</span>
<span class="lineno"> 2</span> <span class="nv">$appConfig</span> <span class="o">=</span> <span class="k">include</span> <span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">&#39;/../config/application.config.php&#39;</span><span class="p">;</span>
<span class="lineno"> 3</span> 
<span class="lineno"> 4</span> <span class="nv">$moduleLoader</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ModuleAutoloader</span><span class="p">(</span><span class="nv">$appConfig</span><span class="p">[</span><span class="s1">&#39;module_paths&#39;</span><span class="p">]);</span>
<span class="lineno"> 5</span> <span class="nv">$moduleLoader</span><span class="o">-&gt;</span><span class="na">register</span><span class="p">();</span>
<span class="lineno"> 6</span> 
<span class="lineno"> 7</span> <span class="nv">$moduleManager</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Manager</span><span class="p">(</span><span class="nv">$appConfig</span><span class="p">[</span><span class="s1">&#39;modules&#39;</span><span class="p">]);</span>
<span class="lineno"> 8</span> <span class="nv">$moduleManager</span>
<span class="lineno"> 9</span>     <span class="o">-&gt;</span><span class="na">getConfigListener</span><span class="p">()</span>
<span class="lineno">10</span>     <span class="o">-&gt;</span><span class="na">addConfigGlobPath</span><span class="p">(</span><span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">&#39;/config/autoload/*.{global,local}.config.php&#39;</span><span class="p">);</span>
<span class="lineno">11</span> <span class="nv">$moduleManager</span><span class="o">-&gt;</span><span class="na">loadModules</span><span class="p">();</span>
<span class="lineno">12</span> <span class="nv">$config</span> <span class="o">=</span> <span class="nv">$moduleManager</span><span class="o">-&gt;</span><span class="na">getMergedConfig</span><span class="p">();</span>
<span class="lineno">13</span> 
<span class="lineno">14</span> <span class="c1">// Create application, bootstrap, and run</span>
<span class="lineno">15</span> <span class="nv">$bootstrap</span>   <span class="o">=</span> <span class="k">new</span> <span class="nx">Bootstrap</span><span class="p">(</span><span class="nv">$config</span><span class="p">);</span>
<span class="lineno">16</span> <span class="nv">$application</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Application</span><span class="p">;</span>
<span class="lineno">17</span> <span class="nv">$bootstrap</span><span class="o">-&gt;</span><span class="na">bootstrap</span><span class="p">(</span><span class="nv">$application</span><span class="p">);</span>
<span class="lineno">18</span> <span class="nv">$application</span><span class="o">-&gt;</span><span class="na">run</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>
</pre></div>

</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <ul>
<li>Loops through modules, grabbing configuration</li>
<li>Merges in local configuration (addConfigGlobPath())</li>
<li>Bootstraps from configuration</li>
<li>Executes application</li>
</ul>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              109/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code smaller-code">
          <div class="inner">
            
            <header><h2>What about the V, View?</h2></header>
            
            
            <section><p>When is view rendering happening? via an Event Listener (as of beta2):</p>
<div class="highlight"><pre><span class="lineno"> 1</span> <span class="cp">&lt;?php</span>
<span class="lineno"> 2</span> <span class="k">use</span> <span class="nx">Zend\EventManager\EventCollection</span> <span class="k">as</span> <span class="nx">Events</span><span class="p">,</span>
<span class="lineno"> 3</span>     <span class="nx">Zend\EventManager\ListenerAggregate</span><span class="p">;</span>
<span class="lineno"> 4</span> 
<span class="lineno"> 5</span> <span class="k">class</span> <span class="nc">ViewListener</span> <span class="k">implements</span> <span class="nx">ListenerAggregate</span>
<span class="lineno"> 6</span> <span class="p">{</span>
<span class="lineno"> 7</span>     <span class="cm">/* ... */</span>
<span class="lineno"> 8</span> 
<span class="lineno"> 9</span>     <span class="k">public</span> <span class="k">function</span> <span class="nf">attach</span><span class="p">(</span><span class="nx">Events</span> <span class="nv">$events</span><span class="p">)</span>
<span class="lineno">10</span>     <span class="p">{</span>
<span class="lineno">11</span>         <span class="nv">$events</span><span class="o">-&gt;</span><span class="na">attach</span><span class="p">(</span><span class="s1">&#39;dispatch&#39;</span><span class="p">,</span> 
<span class="lineno">12</span>             <span class="k">array</span><span class="p">(</span><span class="nv">$this</span><span class="p">,</span> <span class="s1">&#39;renderView&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">100</span><span class="p">);</span>
<span class="lineno">13</span>         <span class="nv">$events</span><span class="o">-&gt;</span><span class="na">attach</span><span class="p">(</span><span class="s1">&#39;dispatch&#39;</span><span class="p">,</span> 
<span class="lineno">14</span>             <span class="k">array</span><span class="p">(</span><span class="nv">$this</span><span class="p">,</span> <span class="s1">&#39;renderLayout&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1000</span><span class="p">);</span>
<span class="lineno">15</span>     <span class="p">}</span>
<span class="lineno">16</span> 
<span class="lineno">17</span>     <span class="cm">/* ... */</span>
<span class="lineno">18</span> <span class="p">}</span>
</pre></div>

</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <p><strong> NOTE</strong>: Update this to be a preview of the new View system
<em> Low priority listeners, layout happening magnitudes later than view
</em> We'll be formalizing this later
  * Discuss the concept of a "ViewResult" type of object</p>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              110/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Getting Your Hands Dirty: Contact!</h1></header>
            
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <p>The idea now is to take the information we've got, and build a new module for
the skeleton app I've handed around. We'll configure a mail transport and mail
message, pass them into a controller, and do something with it all.</p>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              111/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>The goal:</h2></header>
            
            
            <section><ul>
<li>Display a contact form</li>
<li>Validate the contact form, and re-display if necessary</li>
<li>Send an email via a configured mail transport, and display a "thank you" page</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              112/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>To begin:</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno">1</span> <span class="nb">cd </span>ZendSkeletonApplication
<span class="lineno">2</span> mkdir module/PhpbnlContact
<span class="lineno">3</span> <span class="nb">cd </span>module/PhpbnlContact
<span class="lineno">4</span> mkdir -p config src/PhpbnlContact view/contact
</pre></div>

</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <p>This sets up the basic structure we need for the files we'll be creating.</p>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              113/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code smaller-code">
          <div class="inner">
            
            <header><h2>Routes: Base route</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="cp">&lt;?php</span>
<span class="lineno"> 2</span> <span class="c1">// module/PhpbnlContact/config/module.config.php</span>
<span class="lineno"> 3</span> <span class="k">return</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno"> 4</span>   <span class="s1">&#39;routes&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno"> 5</span>     <span class="s1">&#39;contact&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno"> 6</span>       <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Literal&#39;</span><span class="p">,</span>
<span class="lineno"> 7</span>       <span class="s1">&#39;options&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno"> 8</span>         <span class="s1">&#39;route&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/contact&#39;</span><span class="p">,</span>
<span class="lineno"> 9</span>         <span class="s1">&#39;defaults&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno">10</span>           <span class="s1">&#39;controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;contact&#39;</span><span class="p">,</span>
<span class="lineno">11</span>           <span class="s1">&#39;action&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;index&#39;</span><span class="p">,</span>
<span class="lineno">12</span>         <span class="p">),</span>
<span class="lineno">13</span>       <span class="p">),</span>
<span class="lineno">14</span>       <span class="s1">&#39;may_terminate&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
<span class="lineno">15</span>       <span class="s1">&#39;child_routes&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="cm">/* ... */</span><span class="p">),</span>
<span class="lineno">16</span>     <span class="p">),</span>
<span class="lineno">17</span>   <span class="p">),</span>
<span class="lineno">18</span> <span class="p">);</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              114/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code smaller-code">
          <div class="inner">
            
            <header><h2>Routes: Process form</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="cp">&lt;?php</span>
<span class="lineno"> 2</span> <span class="cm">/* this is a child route */</span>
<span class="lineno"> 3</span> <span class="s1">&#39;process&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno"> 4</span>   <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Literal&#39;</span><span class="p">,</span>
<span class="lineno"> 5</span>   <span class="s1">&#39;options&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno"> 6</span>     <span class="s1">&#39;route&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/process&#39;</span><span class="p">,</span>
<span class="lineno"> 7</span>     <span class="s1">&#39;defaults&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno"> 8</span>       <span class="s1">&#39;controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;contact&#39;</span><span class="p">,</span>
<span class="lineno"> 9</span>       <span class="s1">&#39;action&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;process&#39;</span><span class="p">,</span>
<span class="lineno">10</span>     <span class="p">),</span>
<span class="lineno">11</span>   <span class="p">),</span>
<span class="lineno">12</span> <span class="p">),</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              115/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code smaller-code">
          <div class="inner">
            
            <header><h2>Routes: Thank you page</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="cp">&lt;?php</span>
<span class="lineno"> 2</span> <span class="cm">/* this is a child route */</span>
<span class="lineno"> 3</span> <span class="s1">&#39;thank-you&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno"> 4</span>   <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Literal&#39;</span><span class="p">,</span>
<span class="lineno"> 5</span>   <span class="s1">&#39;options&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno"> 6</span>     <span class="s1">&#39;route&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/thank-you&#39;</span><span class="p">,</span>
<span class="lineno"> 7</span>     <span class="s1">&#39;defaults&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno"> 8</span>       <span class="s1">&#39;controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;contact&#39;</span><span class="p">,</span>
<span class="lineno"> 9</span>       <span class="s1">&#39;action&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;thank-you&#39;</span><span class="p">,</span>
<span class="lineno">10</span>     <span class="p">),</span>
<span class="lineno">11</span>   <span class="p">),</span>
<span class="lineno">12</span> <span class="p">),</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              116/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>Defining the form</h2></header>
            
            
            <section><ul>
<li>Email</li>
<li>Subject</li>
<li>Body</li>
<li>Captcha</li>
<li>CSRF-protection</li>
<li>Submit button</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              117/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code smaller-code">
          <div class="inner">
            
            <header><h2>Contact Form</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="cp">&lt;?php</span>
<span class="lineno"> 2</span> <span class="c1">// module/PhpbnlContact/src/PhpbnlContact/ContactForm.php</span>
<span class="lineno"> 3</span> <span class="k">namespace</span> <span class="nx">PhpbnlContact</span><span class="p">;</span>
<span class="lineno"> 4</span> 
<span class="lineno"> 5</span> <span class="k">use</span> <span class="nx">Zend\Captcha\Adapter</span> <span class="k">as</span> <span class="nx">CaptchaAdapter</span><span class="p">,</span>
<span class="lineno"> 6</span>     <span class="nx">Zend\Form\Form</span><span class="p">,</span>
<span class="lineno"> 7</span>     <span class="nx">Zend\Validator\Hostname</span> <span class="k">as</span> <span class="nx">HostnameValidator</span><span class="p">;</span>
<span class="lineno"> 8</span> 
<span class="lineno"> 9</span> <span class="k">class</span> <span class="nc">ContactForm</span> <span class="k">extends</span> <span class="nx">Form</span>
<span class="lineno">10</span> <span class="p">{</span>
<span class="lineno">11</span>     <span class="k">protected</span> <span class="nv">$captchaAdapter</span><span class="p">;</span>
<span class="lineno">12</span> 
<span class="lineno">13</span>     <span class="k">public</span> <span class="k">function</span> <span class="nf">__construct</span><span class="p">(</span><span class="nv">$captchaAdapter</span> <span class="o">=</span> <span class="k">null</span><span class="p">)</span>
<span class="lineno">14</span>     <span class="p">{</span>
<span class="lineno">15</span>         <span class="k">if</span> <span class="p">(</span><span class="nv">$options</span> <span class="nx">instanceof</span> <span class="nx">CaptchaAdapter</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno">16</span>             <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">setCaptchaAdapter</span><span class="p">(</span><span class="nv">$captchaAdapter</span><span class="p">);</span>
<span class="lineno">17</span>             <span class="k">parent</span><span class="o">::</span><span class="na">__construct</span><span class="p">(</span><span class="k">null</span><span class="p">);</span>
<span class="lineno">18</span>             <span class="k">return</span><span class="p">;</span>
<span class="lineno">19</span>         <span class="p">};</span>
<span class="lineno">20</span> 
<span class="lineno">21</span>         <span class="k">parent</span><span class="o">::</span><span class="na">__construct</span><span class="p">(</span><span class="nv">$captchaAdapterj</span><span class="p">);</span>
<span class="lineno">22</span>     <span class="p">}</span>
<span class="lineno">23</span>     <span class="o">/</span><span class="nx">\</span><span class="o">*</span> <span class="o">...</span> <span class="nx">\</span><span class="o">*/</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              118/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code smaller-code">
          <div class="inner">
            
            <header><h2>Contact Form</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="cp">&lt;?php</span>
<span class="lineno"> 2</span> <span class="k">namespace</span> <span class="nx">PhpbnlContact</span><span class="p">;</span>
<span class="lineno"> 3</span> 
<span class="lineno"> 4</span> <span class="k">use</span> <span class="nx">Zend\Captcha\Adapter</span> <span class="k">as</span> <span class="nx">CaptchaAdapter</span><span class="p">,</span>
<span class="lineno"> 5</span>     <span class="nx">Zend\Form\Form</span><span class="p">,</span>
<span class="lineno"> 6</span>     <span class="nx">Zend\Validator\Hostname</span> <span class="k">as</span> <span class="nx">HostnameValidator</span><span class="p">;</span>
<span class="lineno"> 7</span> 
<span class="lineno"> 8</span> <span class="k">class</span> <span class="nc">ContactForm</span> <span class="k">extends</span> <span class="nx">Form</span>
<span class="lineno"> 9</span> <span class="p">{</span>
<span class="lineno">10</span>     <span class="o">/</span><span class="nx">\</span><span class="o">*</span> <span class="o">...</span> <span class="nx">\</span><span class="o">*/</span>
<span class="lineno">11</span>     <span class="k">public</span> <span class="k">function</span> <span class="nf">setCaptchaAdapter</span><span class="p">(</span><span class="nx">CaptchaAdapter</span> <span class="nv">$captcha</span><span class="p">)</span>
<span class="lineno">12</span>     <span class="p">{</span>
<span class="lineno">13</span>         <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">captchaAdapter</span> <span class="o">=</span> <span class="nv">$captcha</span><span class="p">;</span>
<span class="lineno">14</span>     <span class="p">}</span>
<span class="lineno">15</span>     <span class="o">/</span><span class="nx">\</span><span class="o">*</span> <span class="o">...</span> <span class="nx">\</span><span class="o">*/</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              119/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code smaller-code">
          <div class="inner">
            
            <header><h2>Contact Form</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="cp">&lt;?php</span>
<span class="lineno"> 2</span> <span class="k">namespace</span> <span class="nx">PhpbnlContact</span><span class="p">;</span>
<span class="lineno"> 3</span> 
<span class="lineno"> 4</span> <span class="k">use</span> <span class="nx">Zend\Captcha\ReCaptcha</span><span class="p">,</span>
<span class="lineno"> 5</span>     <span class="nx">Zend\Form\Form</span><span class="p">,</span>
<span class="lineno"> 6</span>     <span class="nx">Zend\Validator\Hostname</span> <span class="k">as</span> <span class="nx">HostnameValidator</span><span class="p">;</span>
<span class="lineno"> 7</span> 
<span class="lineno"> 8</span> <span class="k">class</span> <span class="nc">ContactForm</span> <span class="k">extends</span> <span class="nx">Form</span>
<span class="lineno"> 9</span> <span class="p">{</span>
<span class="lineno">10</span>     <span class="k">public</span> <span class="k">function</span> <span class="nf">init</span><span class="p">()</span>
<span class="lineno">11</span>     <span class="p">{</span>
<span class="lineno">12</span>         <span class="o">/</span><span class="nx">\</span><span class="o">*</span> <span class="nx">setup</span> <span class="nx">all</span> <span class="nx">elements</span> <span class="nx">\</span><span class="o">*/</span>
<span class="lineno">13</span>         <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">addElement</span><span class="p">(</span><span class="s1">&#39;captcha&#39;</span><span class="p">,</span> <span class="s1">&#39;captcha&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno">14</span>             <span class="s1">&#39;required&#39;</span>       <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
<span class="lineno">15</span>             <span class="s1">&#39;captcha&#39;</span>        <span class="o">=&gt;</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">captchaAdapter</span><span class="p">,</span>
<span class="lineno">16</span>         <span class="p">));</span>
<span class="lineno">17</span>         <span class="o">/</span><span class="nx">\</span><span class="o">*</span> <span class="nx">finish</span> <span class="nx">setting</span> <span class="nx">up</span> <span class="nx">\</span><span class="o">*/</span>
<span class="lineno">18</span>     <span class="p">}</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              120/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code smaller-code">
          <div class="inner">
            
            <header><h2>Controller: Dependencies</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="cp">&lt;?php</span>
<span class="lineno"> 2</span> <span class="k">namespace</span> <span class="nx">PhpbnlContact</span><span class="p">;</span>
<span class="lineno"> 3</span> 
<span class="lineno"> 4</span> <span class="k">use</span> <span class="nx">Zend\Mail\Transport</span><span class="p">,</span>
<span class="lineno"> 5</span>     <span class="nx">Zend\Mail\Message</span> <span class="k">as</span> <span class="nx">Message</span><span class="p">,</span>
<span class="lineno"> 6</span>     <span class="nx">Zend\Mvc\Controller\ActionController</span><span class="p">;</span>
<span class="lineno"> 7</span> 
<span class="lineno"> 8</span> <span class="k">class</span> <span class="nc">ContactController</span> <span class="k">extends</span> <span class="nx">ActionController</span>
<span class="lineno"> 9</span> <span class="p">{</span>
<span class="lineno">10</span>     <span class="k">protected</span> <span class="nv">$form</span><span class="p">;</span>
<span class="lineno">11</span>     <span class="k">protected</span> <span class="nv">$message</span><span class="p">;</span>
<span class="lineno">12</span>     <span class="k">protected</span> <span class="nv">$transport</span><span class="p">;</span>
<span class="lineno">13</span> 
<span class="lineno">14</span>     <span class="k">public</span> <span class="k">function</span> <span class="nf">setMessage</span><span class="p">(</span><span class="nx">Message</span> <span class="nv">$message</span><span class="p">)</span>
<span class="lineno">15</span>     <span class="p">{</span>
<span class="lineno">16</span>         <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">message</span> <span class="o">=</span> <span class="nv">$message</span><span class="p">;</span>
<span class="lineno">17</span>     <span class="p">}</span>
<span class="lineno">18</span> 
<span class="lineno">19</span>     <span class="k">public</span> <span class="k">function</span> <span class="nf">setMailTransport</span><span class="p">(</span><span class="nx">Transport</span> <span class="nv">$transport</span><span class="p">)</span>
<span class="lineno">20</span>     <span class="p">{</span>
<span class="lineno">21</span>         <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">transport</span> <span class="o">=</span> <span class="nv">$transport</span><span class="p">;</span>
<span class="lineno">22</span>     <span class="p">}</span>
<span class="lineno">23</span> 
<span class="lineno">24</span>     <span class="k">public</span> <span class="k">function</span> <span class="nf">setContactForm</span><span class="p">(</span><span class="nx">ContactForm</span> <span class="nv">$form</span><span class="p">)</span>
<span class="lineno">25</span>     <span class="p">{</span>
<span class="lineno">26</span>         <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">form</span> <span class="o">=</span> <span class="nv">$form</span><span class="p">;</span>
<span class="lineno">27</span>     <span class="p">}</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              121/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>Controller: Display form</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno">1</span> <span class="cp">&lt;?php</span>
<span class="lineno">2</span> <span class="k">public</span> <span class="k">function</span> <span class="nf">indexAction</span><span class="p">()</span>
<span class="lineno">3</span> <span class="p">{</span>
<span class="lineno">4</span>     <span class="k">return</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;form&#39;</span> <span class="o">=&gt;</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">form</span><span class="p">);</span>
<span class="lineno">5</span> <span class="p">}</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              122/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code smaller-code">
          <div class="inner">
            
            <header><h2>Controller: Process form</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="cp">&lt;?php</span>
<span class="lineno"> 2</span> <span class="k">public</span> <span class="k">function</span> <span class="nf">processAction</span><span class="p">()</span>
<span class="lineno"> 3</span> <span class="p">{</span>
<span class="lineno"> 4</span>     <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">request</span><span class="o">-&gt;</span><span class="na">isPost</span><span class="p">())</span> <span class="p">{</span>
<span class="lineno"> 5</span>         <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">response</span><span class="o">-&gt;</span><span class="na">setStatusCode</span><span class="p">(</span><span class="mi">302</span><span class="p">);</span>
<span class="lineno"> 6</span>         <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">response</span><span class="o">-&gt;</span><span class="na">headers</span><span class="p">()</span>
<span class="lineno"> 7</span>              <span class="o">-&gt;</span><span class="na">addHeaderLine</span><span class="p">(</span><span class="s1">&#39;Location&#39;</span><span class="p">,</span> <span class="s1">&#39;/contact&#39;</span><span class="p">);</span>
<span class="lineno"> 8</span>     <span class="p">}</span>
<span class="lineno"> 9</span>     <span class="nv">$post</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">request</span><span class="o">-&gt;</span><span class="na">post</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">toArray</span><span class="p">();</span>
<span class="lineno">10</span>     <span class="nv">$form</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">form</span><span class="p">;</span>
<span class="lineno">11</span>     <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$form</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="nv">$post</span><span class="p">))</span> <span class="p">{</span>
<span class="lineno">12</span>         <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getEvent</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getRouteMatch</span><span class="p">()</span>
<span class="lineno">13</span>                          <span class="o">-&gt;</span><span class="na">setParam</span><span class="p">(</span><span class="s1">&#39;action&#39;</span><span class="p">,</span> <span class="s1">&#39;index&#39;</span><span class="p">);</span>
<span class="lineno">14</span>         <span class="k">return</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno">15</span>             <span class="s1">&#39;error&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
<span class="lineno">16</span>             <span class="s1">&#39;form&#39;</span>  <span class="o">=&gt;</span> <span class="nv">$form</span>
<span class="lineno">17</span>         <span class="p">);</span>
<span class="lineno">18</span>     <span class="p">}</span>
<span class="lineno">19</span> 
<span class="lineno">20</span>     <span class="c1">// send email...</span>
<span class="lineno">21</span>     <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">sendEmail</span><span class="p">(</span><span class="nv">$form</span><span class="o">-&gt;</span><span class="na">getValues</span><span class="p">());</span>
<span class="lineno">22</span> 
<span class="lineno">23</span>     <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">redirect</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">toRoute</span><span class="p">(</span><span class="s1">&#39;contact/thank-you&#39;</span><span class="p">);</span>
<span class="lineno">24</span> <span class="p">}</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              123/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code smaller-code">
          <div class="inner">
            
            <header><h2>Controller: Send email</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="cp">&lt;?php</span>
<span class="lineno"> 2</span> <span class="k">protected</span> <span class="k">function</span> <span class="nf">sendEmail</span><span class="p">(</span><span class="k">array</span> <span class="nv">$data</span><span class="p">)</span>
<span class="lineno"> 3</span> <span class="p">{</span>
<span class="lineno"> 4</span>     <span class="nv">$from</span>    <span class="o">=</span> <span class="nv">$data</span><span class="p">[</span><span class="s1">&#39;from&#39;</span><span class="p">];</span>
<span class="lineno"> 5</span>     <span class="nv">$subject</span> <span class="o">=</span> <span class="s1">&#39;[Contact Form] &#39;</span> <span class="o">.</span> <span class="nv">$data</span><span class="p">[</span><span class="s1">&#39;subject&#39;</span><span class="p">];</span>
<span class="lineno"> 6</span>     <span class="nv">$body</span>    <span class="o">=</span> <span class="nv">$data</span><span class="p">[</span><span class="s1">&#39;body&#39;</span><span class="p">];</span>
<span class="lineno"> 7</span> 
<span class="lineno"> 8</span>     <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">message</span><span class="o">-&gt;</span><span class="na">addFrom</span><span class="p">(</span><span class="nv">$from</span><span class="p">)</span>
<span class="lineno"> 9</span>                   <span class="o">-&gt;</span><span class="na">addReplyTo</span><span class="p">(</span><span class="nv">$from</span><span class="p">)</span>
<span class="lineno">10</span>                   <span class="o">-&gt;</span><span class="na">setSubject</span><span class="p">(</span><span class="nv">$subject</span><span class="p">)</span>
<span class="lineno">11</span>                   <span class="o">-&gt;</span><span class="na">setBody</span><span class="p">(</span><span class="nv">$body</span><span class="p">);</span>
<span class="lineno">12</span>     <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">transport</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">message</span><span class="p">);</span>
<span class="lineno">13</span> <span class="p">}</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              124/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code smaller-code">
          <div class="inner">
            
            <header><h2>Controller: Thank you page</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="cp">&lt;?php</span>
<span class="lineno"> 2</span> <span class="k">public</span> <span class="k">function</span> <span class="nf">thankYouAction</span><span class="p">()</span>
<span class="lineno"> 3</span> <span class="p">{</span>
<span class="lineno"> 4</span>     <span class="nv">$headers</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">request</span><span class="o">-&gt;</span><span class="na">headers</span><span class="p">();</span>
<span class="lineno"> 5</span>     <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$headers</span><span class="o">-&gt;</span><span class="na">has</span><span class="p">(</span><span class="s1">&#39;Referer&#39;</span><span class="p">)</span>
<span class="lineno"> 6</span>         <span class="o">||</span> <span class="o">!</span><span class="nb">preg_match</span><span class="p">(</span><span class="s1">&#39;#/contact/process$#&#39;</span><span class="p">,</span>
<span class="lineno"> 7</span>               <span class="nv">$headers</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;Referer&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">getFieldValue</span><span class="p">())</span>
<span class="lineno"> 8</span>     <span class="p">)</span> <span class="p">{</span>
<span class="lineno"> 9</span>         <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">response</span><span class="o">-&gt;</span><span class="na">setStatusCode</span><span class="p">(</span><span class="mi">302</span><span class="p">);</span>
<span class="lineno">10</span>         <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">response</span><span class="o">-&gt;</span><span class="na">headers</span><span class="p">()</span>
<span class="lineno">11</span>              <span class="o">-&gt;</span><span class="na">addHeaderLine</span><span class="p">(</span><span class="s1">&#39;Location&#39;</span><span class="p">,</span> <span class="s1">&#39;/contact&#39;</span><span class="p">);</span>
<span class="lineno">12</span>     <span class="p">}</span>
<span class="lineno">13</span> 
<span class="lineno">14</span>     <span class="c1">// do nothing...</span>
<span class="lineno">15</span> <span class="p">}</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              125/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code smaller-code">
          <div class="inner">
            
            <header><h2>Add view scripts: Form</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="cp">&lt;?php</span>
<span class="lineno"> 2</span> <span class="c1">// module/PhpbnlContact/view/contact/index.phtml</span>
<span class="lineno"> 3</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">headTitle</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">prepend</span><span class="p">(</span><span class="s1">&#39;Contact&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="lineno"> 4</span> <span class="x">&lt;section class=&quot;contact&quot;&gt;</span>
<span class="lineno"> 5</span> <span class="x">&lt;h2&gt;Contact Me&lt;/h2&gt;</span>
<span class="lineno"> 6</span> 
<span class="lineno"> 7</span> <span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">error</span><span class="p">)</span><span class="o">:</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="lineno"> 8</span> <span class="x">&lt;p class=&quot;error&quot;&gt;</span>
<span class="lineno"> 9</span> <span class="x">    There were one or more isues with your submission. Please correct them</span>
<span class="lineno">10</span> <span class="x">    as indicated below.</span>
<span class="lineno">11</span> <span class="x">&lt;/p&gt;</span>
<span class="lineno">12</span> <span class="cp">&lt;?php</span> <span class="k">endif</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="lineno">13</span> 
<span class="lineno">14</span> <span class="cp">&lt;?php</span> 
<span class="lineno">15</span> <span class="nv">$form</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">form</span><span class="p">;</span>
<span class="lineno">16</span> <span class="nv">$form</span><span class="o">-&gt;</span><span class="na">setAction</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">url</span><span class="p">(</span><span class="s1">&#39;contact/process&#39;</span><span class="p">));</span>
<span class="lineno">17</span> <span class="nv">$form</span><span class="o">-&gt;</span><span class="na">setMethod</span><span class="p">(</span><span class="s1">&#39;post&#39;</span><span class="p">);</span>
<span class="lineno">18</span> <span class="k">echo</span> <span class="nv">$form</span><span class="o">-&gt;</span><span class="na">render</span><span class="p">(</span><span class="nv">$this</span><span class="p">);</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              126/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>Add view scripts: Thank You</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="cp">&lt;?php</span>
<span class="lineno"> 2</span> <span class="c1">// module/PhpbnlContact/view/contact/thank-you.phtml</span>
<span class="lineno"> 3</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">headTitle</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">prepend</span><span class="p">(</span><span class="s1">&#39;Contact&#39;</span><span class="p">);</span>
<span class="lineno"> 4</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">headTitle</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">prepend</span><span class="p">(</span><span class="s1">&#39;Thank You!&#39;</span><span class="p">);</span>
<span class="lineno"> 5</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="lineno"> 6</span> <span class="x">&lt;section class=&quot;contact&quot;&gt;</span>
<span class="lineno"> 7</span> <span class="x">&lt;h2&gt;Thank you!&lt;/h2&gt;</span>
<span class="lineno"> 8</span> 
<span class="lineno"> 9</span> <span class="x">&lt;p&gt;</span>
<span class="lineno">10</span> <span class="x">    Your message has been sent!</span>
<span class="lineno">11</span> <span class="x">&lt;/p&gt;</span>
<span class="lineno">12</span> <span class="x">&lt;/section&gt;</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              127/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code smaller-code">
          <div class="inner">
            
            <header><h2>DI Definitions: Controller/Form</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="cp">&lt;?php</span>
<span class="lineno"> 2</span> <span class="cm">/* inside module/PhpbnlContact/config/module.config.php */</span>
<span class="lineno"> 3</span> <span class="s1">&#39;di&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno"> 4</span>     <span class="s1">&#39;definition&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;class&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno"> 5</span>         <span class="s1">&#39;PhpbnlContact\ContactController&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno"> 6</span>             <span class="s1">&#39;setContactForm&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno"> 7</span>                 <span class="s1">&#39;form&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno"> 8</span>                     <span class="s1">&#39;required&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
<span class="lineno"> 9</span>                     <span class="s1">&#39;type&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;PhpbnlContact\ContactForm&#39;</span><span class="p">,</span>
<span class="lineno">10</span>                 <span class="p">),</span>
<span class="lineno">11</span>             <span class="p">),</span>
<span class="lineno">12</span>         <span class="p">),</span>
<span class="lineno">13</span>         <span class="s1">&#39;PhpbnlContact\ContactForm&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno">14</span>             <span class="s1">&#39;__construct&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno">15</span>                 <span class="s1">&#39;captchaAdapter&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno">16</span>                     <span class="s1">&#39;required&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
<span class="lineno">17</span>                     <span class="s1">&#39;type&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;Zend\Captcha\Adapter&#39;</span><span class="p">,</span>
<span class="lineno">18</span>                 <span class="p">),</span>
<span class="lineno">19</span>             <span class="p">),</span>
<span class="lineno">20</span>         <span class="p">),</span>
<span class="lineno">21</span>     <span class="p">)),</span>
<span class="lineno">22</span> <span class="p">),</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              128/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code smaller-code">
          <div class="inner">
            
            <header><h2>DI Definitions: Message</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="cp">&lt;?php</span>
<span class="lineno"> 2</span> <span class="cm">/* inside module/PhpbnlContact/config/module.config.php,</span>
<span class="lineno"> 3</span> <span class="cm">   in the di -&gt; definition array */</span>
<span class="lineno"> 4</span> <span class="s1">&#39;Zend\Mail\Message&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno"> 5</span>     <span class="s1">&#39;addTo&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno"> 6</span>         <span class="s1">&#39;emailOrAddressList&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno"> 7</span>             <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span> <span class="s1">&#39;required&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">),</span>
<span class="lineno"> 8</span>         <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span> <span class="s1">&#39;required&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">),</span>
<span class="lineno"> 9</span>     <span class="p">),</span>
<span class="lineno">10</span>     <span class="s1">&#39;addFrom&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno">11</span>         <span class="s1">&#39;emailOrAddressList&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno">12</span>             <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span> <span class="s1">&#39;required&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">),</span>
<span class="lineno">13</span>         <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span> <span class="s1">&#39;required&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">),</span>
<span class="lineno">14</span>     <span class="p">),</span>
<span class="lineno">15</span>     <span class="s1">&#39;setSender&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno">16</span>         <span class="s1">&#39;emailOrAddressList&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno">17</span>             <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span> <span class="s1">&#39;required&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">),</span>
<span class="lineno">18</span>         <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span> <span class="s1">&#39;required&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">),</span>
<span class="lineno">19</span>     <span class="p">),</span>
<span class="lineno">20</span> <span class="p">),</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              129/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code smaller-code">
          <div class="inner">
            
            <header><h2>DI Preferences and aliases</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="cp">&lt;?php</span>
<span class="lineno"> 2</span> <span class="cm">/* inside module/PhpbnlContact/config/module.config.php,</span>
<span class="lineno"> 3</span> <span class="cm">   in the &quot;di&quot; array */</span>
<span class="lineno"> 4</span>   <span class="s1">&#39;preferences&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno"> 5</span>     <span class="s1">&#39;Zend\Captcha\Adapter&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Zend\Captcha\Dumb&#39;</span><span class="p">,</span>
<span class="lineno"> 6</span>     <span class="s1">&#39;Zend\Mail\Transport&#39;</span>  <span class="o">=&gt;</span> <span class="s1">&#39;Zend\Mail\Transport\Smtp&#39;</span><span class="p">,</span>
<span class="lineno"> 7</span>   <span class="p">),</span>
<span class="lineno"> 8</span>   <span class="s1">&#39;instance&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno"> 9</span>     <span class="s1">&#39;alias&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno">10</span>         <span class="s1">&#39;contact&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;PhpbnlContact\ContactController&#39;</span><span class="p">,</span>
<span class="lineno">11</span>     <span class="p">),</span>
<span class="lineno">12</span>   <span class="p">),</span>
<span class="lineno">13</span> <span class="p">);</span>
</pre></div>

</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <ul>
<li>We're telling DI that when a Transport is requested, use an SMTP transport</li>
<li>We're aliasing "contact" to the contact controller</li>
</ul>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              130/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>DI Configuration: Controller/Form</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno">1</span> <span class="cp">&lt;?php</span>
<span class="lineno">2</span> <span class="cm">/* inside module/PhpbnlContact/config/module.config.php,</span>
<span class="lineno">3</span> <span class="cm">   in the &quot;di -&gt; instance&quot; array */</span>
<span class="lineno">4</span> <span class="s1">&#39;contact&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;parameters&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno">5</span>     <span class="s1">&#39;form&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;PhpbnlContact\ContactForm&#39;</span><span class="p">,</span>
<span class="lineno">6</span> <span class="p">)),</span>
</pre></div>

</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <ul>
<li>Alias is used for controller name</li>
<li>If the controller is pulled, so are its dependencies.</li>
<li>We tell it the preferred Transport</li>
<li>and how to configure it</li>
</ul>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              131/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>DI Configuration: View scripts</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="cp">&lt;?php</span>
<span class="lineno"> 2</span> <span class="k">return</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;di&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno"> 3</span> <span class="cm">/* inside module/PhpbnlContact/config/module.config.php,</span>
<span class="lineno"> 4</span> <span class="cm">   in the &quot;di -&gt; instance&quot; array */</span>
<span class="lineno"> 5</span> <span class="s1">&#39;Zend\View\PhpRenderer&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;parameters&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno"> 6</span>     <span class="s1">&#39;options&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno"> 7</span>         <span class="s1">&#39;script_paths&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno"> 8</span>             <span class="s1">&#39;contact&#39;</span> <span class="o">=&gt;</span> <span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">&#39;/../view&#39;</span><span class="p">,</span>
<span class="lineno"> 9</span>         <span class="p">),</span>
<span class="lineno">10</span>     <span class="p">),</span>
<span class="lineno">11</span> <span class="p">)),</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              132/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>Create an autoloader map</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno">1</span> <span class="nb">cd </span>module/PhpbnlContact
<span class="lineno">2</span> php ../../vendor/ZendFramework/bin/classmap_generator.php <span class="se">\</span>
<span class="lineno">3</span> -l ./src <span class="se">\</span>
<span class="lineno">4</span> -o ./autoload_classmap.php
</pre></div>

</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <p>Creates "autoload_classmap.php" file in module root</p>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              133/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code smaller-code">
          <div class="inner">
            
            <header><h2>Module class: autoloading</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="cp">&lt;?php</span>
<span class="lineno"> 2</span> <span class="c1">// module/PhpbnlContact/Module.php</span>
<span class="lineno"> 3</span> <span class="k">namespace</span> <span class="nx">PhpbnlContact</span><span class="p">;</span>
<span class="lineno"> 4</span> 
<span class="lineno"> 5</span> <span class="k">use</span> <span class="nx">Zend\Module\Consumer\AutoloaderProvider</span><span class="p">;</span>
<span class="lineno"> 6</span> 
<span class="lineno"> 7</span> <span class="k">class</span> <span class="nc">Module</span> <span class="k">implements</span> <span class="nx">AutoloaderProvider</span>
<span class="lineno"> 8</span> <span class="p">{</span>
<span class="lineno"> 9</span>   <span class="k">public</span> <span class="k">function</span> <span class="nf">getAutoloaderConfig</span><span class="p">()</span>
<span class="lineno">10</span>   <span class="p">{</span>
<span class="lineno">11</span>     <span class="k">return</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno">12</span>       <span class="s1">&#39;Zend\Loader\ClassMapAutoloader&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno">13</span>         <span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">&#39;/autoload_classmap.php&#39;</span>
<span class="lineno">14</span>       <span class="p">),</span>
<span class="lineno">15</span>       <span class="s1">&#39;Zend\Loader\StandardAutoloader&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno">16</span>         <span class="s1">&#39;namespaces&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno">17</span>           <span class="s1">&#39;PhpbnlContact&#39;</span> <span class="o">=&gt;</span> <span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">&#39;/src/PhpbnlContact&#39;</span><span class="p">,</span>
<span class="lineno">18</span>         <span class="p">),</span>
<span class="lineno">19</span>       <span class="p">),</span>
<span class="lineno">20</span>     <span class="p">);</span>
<span class="lineno">21</span>   <span class="p">}</span>
<span class="lineno">22</span>   <span class="cm">/* ... */</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              134/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code smaller-code">
          <div class="inner">
            
            <header><h2>Module class: configuration</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="cp">&lt;?php</span>
<span class="lineno"> 2</span> <span class="k">namespace</span> <span class="nx">PhpbnlContact</span><span class="p">;</span>
<span class="lineno"> 3</span> 
<span class="lineno"> 4</span> <span class="k">use</span> <span class="nx">Zend\Module\Consumer\AutoloaderProvider</span><span class="p">;</span>
<span class="lineno"> 5</span> 
<span class="lineno"> 6</span> <span class="k">class</span> <span class="nc">Module</span> <span class="k">implements</span> <span class="nx">AutoloaderProvider</span>
<span class="lineno"> 7</span> <span class="p">{</span>
<span class="lineno"> 8</span>   <span class="cm">/* ... */</span>
<span class="lineno"> 9</span> 
<span class="lineno">10</span>   <span class="k">public</span> <span class="k">function</span> <span class="nf">getConfig</span><span class="p">()</span>
<span class="lineno">11</span>   <span class="p">{</span>
<span class="lineno">12</span>     <span class="k">return</span> <span class="k">include</span> <span class="nx">__DIR__</span> <span class="o">.</span> <span class="s1">&#39;/config/module.config.php&#39;</span><span class="p">;</span>
<span class="lineno">13</span>   <span class="p">}</span>
<span class="lineno">14</span> <span class="p">}</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              135/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code smaller-code">
          <div class="inner">
            
            <header><h2>Add application configuration</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno"> 1</span> <span class="cp">&lt;?php</span>
<span class="lineno"> 2</span> <span class="c1">// config/autoload/module.phpbnl-contact.config.php</span>
<span class="lineno"> 3</span> <span class="k">return</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;di&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno"> 4</span>   <span class="s1">&#39;preferences&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno"> 5</span>     <span class="s1">&#39;Zend\Mail\Transport&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Zend\Mail\Transport\File&#39;</span><span class="p">,</span>
<span class="lineno"> 6</span>   <span class="p">)</span>
<span class="lineno"> 7</span>   <span class="s1">&#39;instance&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno"> 8</span>     <span class="s1">&#39;contact&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;parameters&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno"> 9</span>       <span class="s1">&#39;transport&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Zend\Mail\Transport\File&#39;</span><span class="p">,</span>
<span class="lineno">10</span>     <span class="p">))</span>
<span class="lineno">11</span>     <span class="s1">&#39;PhpbnlContact\ContactForm&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;parameters&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno">12</span>       <span class="s1">&#39;captchaAdapter&#39;</span>  <span class="o">=&gt;</span> <span class="s1">&#39;Zend\Captcha\Dumb&#39;</span><span class="p">,</span>
<span class="lineno">13</span>     <span class="p">),</span>
<span class="lineno">14</span>     <span class="s1">&#39;Zend\Mail\Transport\FileOptions&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;parameters&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno">15</span>       <span class="s1">&#39;path&#39;</span> <span class="o">=&gt;</span> <span class="nx">sys_get_temp_dir</span><span class="p">(),</span>
<span class="lineno">16</span>     <span class="p">)),</span>
<span class="lineno">17</span>     <span class="s1">&#39;Zend\Mail\Message&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;parameters&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno">18</span>       <span class="s1">&#39;Zend\Mail\Message::addTo:emailOrAddressList&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;me@mwop.net&#39;</span><span class="p">,</span>
<span class="lineno">19</span>       <span class="s1">&#39;Zend\Mail\Message::setSender:emailOrAddressList&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;me@mwop.net&#39;</span><span class="p">,</span>
<span class="lineno">20</span>     <span class="p">)),</span>
<span class="lineno">21</span>   <span class="p">)),</span>
<span class="lineno">22</span> <span class="p">);</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              136/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h2>Add the module to the app</h2></header>
            
            
            <section><div class="highlight"><pre><span class="lineno">1</span> <span class="cp">&lt;?php</span>
<span class="lineno">2</span> <span class="c1">// config/application.config.php</span>
<span class="lineno">3</span> <span class="cm">/* ... */</span>
<span class="lineno">4</span> <span class="s1">&#39;modules&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
<span class="lineno">5</span>     <span class="s1">&#39;Application&#39;</span><span class="p">,</span>
<span class="lineno">6</span>     <span class="s1">&#39;PhpbnlContact&#39;</span><span class="p">,</span> <span class="c1">// &lt;- add this</span>
<span class="lineno">7</span> <span class="p">),</span>
<span class="lineno">8</span> <span class="s1">&#39;module_listener_options&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span> <span class="cm">/* ... */</span><span class="p">)</span>
<span class="lineno">9</span> <span class="cm">/* ... */</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              137/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>Visit the page</h2></header>
            
            
            <section><p>http://phpbnl.dev/contact</p>
<p><img alt="Contact Form" src="images/ContactForm.png" title="Contact Form" /></p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              138/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>Review</h2></header>
            
            
            <section><ul>
<li>We created routes</li>
<li>We created a form (kind of!)</li>
<li>We created a controller, with end points for landing, processing, and
  displaying a thank you page</li>
<li>We created the necessary views</li>
<li>We setup DI configuration for our form</li>
<li>We setup DI configuration for the mail transport and message</li>
<li>We created an autoloader classmap</li>
<li>We created a Module class for our module</li>
<li>We added the module to the application</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              139/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Wrapping Up</h1></header>
            
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              140/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>When?</h2></header>
            
            
            <section><ul>
<li>Beta 1 and Beta 2: <ul>
<li>http://packages.zendframework.com/</li>
</ul>
</li>
<li>Beta 3:<ul>
<li>End of February</li>
</ul>
</li>
<li>New Betas around every six weeks, until we're done.</li>
<li>Stable:<ul>
<li>? <em>(likely Summer 2012)</em></li>
</ul>
</li>
</ul>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <ul>
<li>We're doing gmail style betas. We <em>want</em> you to play with the code. We think
  it's compelling, and going to change the way you develop applications.</li>
<li>This also means that our betas are going to introduce changes. We'll work hard
  to minimize them, but be prepared. But build with it!</li>
<li>Beta3 is focussing on the view layer, DB, and console tooling</li>
</ul>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              141/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>Resources</h2></header>
            
            
            <section><ul>
<li>Bundle o' links! <ul>
<li>http://bit.ly/rzOOge</li>
</ul>
</li>
<li>The ZF2 subsite<ul>
<li>http://framework.zend.com/zf2</li>
</ul>
</li>
<li>My "mwop.net" site repository<ul>
<li>http://git.mwop.net/?a=summary&amp;p=zf2sandbox</li>
</ul>
</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              142/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h2>Helping out</h2></header>
            
            
            <section><ul>
<li>http://framework.zend.com/zf2</li>
<li>https://github.com/zendframework</li>
<li>Bi-weekly IRC meetings (#zf2-meeting on Freenode IRC)</li>
<li>#zftalk.2 on Freenode IRC</li>
</ul>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <ul>
<li>Read our Git guide, NO CLA REQUIRED, blah, blah, blah</li>
</ul>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              143/144
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: Zf2Workshop.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Thank You!</h1></header>
            
            
            <section><ul>
<li>Feedback?<ul>
<li>http://framework.zend.com/</li>
<li>http://twitter.com/weierophinney</li>
</ul>
</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="Zf2Workshop.md">Zf2Workshop.md</a>
            </aside>
            
            <aside class="page_number">
              144/144
            </aside>
          </footer>
        </div>
      </div>
      
    </div>
  </div>
  
  <div id="toc" class="sidebar hidden">
    <h2>Table of Contents</h2>
    <table>
      <caption>Table of Contents</caption>
      
      <tr id="toc-row-1">
        <th><a href="#slide1">ZF2 Workshop</a></th>
        <td><a href="#slide1">1</a></td>
      </tr>
      
        
        <tr id="toc-row-2" class="sub">
          <th><a href="#slide2">Our goal</a></th>
          <td><a href="#slide2">2</a></td>
        </tr>
        
        <tr id="toc-row-3" class="sub">
          <th><a href="#slide3">How we'll get there</a></th>
          <td><a href="#slide3">3</a></td>
        </tr>
        
        <tr id="toc-row-4" class="sub">
          <th><a href="#slide4">How we'll get there</a></th>
          <td><a href="#slide4">4</a></td>
        </tr>
        
        <tr id="toc-row-5" class="sub">
          <th><a href="#slide5">How we'll get there</a></th>
          <td><a href="#slide5">5</a></td>
        </tr>
        
        <tr id="toc-row-6" class="sub">
          <th><a href="#slide6">How we'll get there</a></th>
          <td><a href="#slide6">6</a></td>
        </tr>
        
      
      
      <tr id="toc-row-7">
        <th><a href="#slide7">A New Core</a></th>
        <td><a href="#slide7">7</a></td>
      </tr>
      
        
        <tr id="toc-row-8" class="sub">
          <th><a href="#slide8">The ZF1 Way</a></th>
          <td><a href="#slide8">8</a></td>
        </tr>
        
        <tr id="toc-row-9" class="sub">
          <th><a href="#slide9">The ZF2 Way</a></th>
          <td><a href="#slide9">9</a></td>
        </tr>
        
      
      
      <tr id="toc-row-10">
        <th><a href="#slide10">Dependency Injection</a></th>
        <td><a href="#slide10">10</a></td>
      </tr>
      
        
        <tr id="toc-row-11" class="sub">
          <th><a href="#slide11">Basic Dependency Injection</a></th>
          <td><a href="#slide11">11</a></td>
        </tr>
        
        <tr id="toc-row-12" class="sub">
          <th><a href="#slide12">Setter Injection</a></th>
          <td><a href="#slide12">12</a></td>
        </tr>
        
        <tr id="toc-row-13" class="sub">
          <th><a href="#slide13">It solves a problem</a></th>
          <td><a href="#slide13">13</a></td>
        </tr>
        
        <tr id="toc-row-14" class="sub">
          <th><a href="#slide14">It creates a new problem</a></th>
          <td><a href="#slide14">14</a></td>
        </tr>
        
        <tr id="toc-row-15" class="sub">
          <th><a href="#slide15">DI Containers</a></th>
          <td><a href="#slide15">15</a></td>
        </tr>
        
        <tr id="toc-row-16" class="sub">
          <th><a href="#slide16">Sample Definition</a></th>
          <td><a href="#slide16">16</a></td>
        </tr>
        
        <tr id="toc-row-17" class="sub">
          <th><a href="#slide17">Using the DI Container</a></th>
          <td><a href="#slide17">17</a></td>
        </tr>
        
        <tr id="toc-row-18" class="sub">
          <th><a href="#slide18">Typically configuration-driven</a></th>
          <td><a href="#slide18">18</a></td>
        </tr>
        
        <tr id="toc-row-19" class="sub">
          <th><a href="#slide19">Multiple DI strategies</a></th>
          <td><a href="#slide19">19</a></td>
        </tr>
        
      
      
      <tr id="toc-row-20">
        <th><a href="#slide20">Aspects, Signals and Events, oh my!</a></th>
        <td><a href="#slide20">20</a></td>
      </tr>
      
        
        <tr id="toc-row-21" class="sub">
          <th><a href="#slide21">Terminology</a></th>
          <td><a href="#slide21">21</a></td>
        </tr>
        
        <tr id="toc-row-22" class="sub">
          <th><a href="#slide22">In a Nutshell</a></th>
          <td><a href="#slide22">22</a></td>
        </tr>
        
        <tr id="toc-row-23" class="sub">
          <th><a href="#slide23">Attach</a></th>
          <td><a href="#slide23">23</a></td>
        </tr>
        
        <tr id="toc-row-25" class="sub">
          <th><a href="#slide25">Trigger</a></th>
          <td><a href="#slide25">25</a></td>
        </tr>
        
        <tr id="toc-row-27" class="sub">
          <th><a href="#slide27">Event</a></th>
          <td><a href="#slide27">27</a></td>
        </tr>
        
        <tr id="toc-row-28" class="sub">
          <th><a href="#slide28">Listeners</a></th>
          <td><a href="#slide28">28</a></td>
        </tr>
        
      
      
      <tr id="toc-row-30">
        <th><a href="#slide30">Digression: Custom Events</a></th>
        <td><a href="#slide30">30</a></td>
      </tr>
      
      
      <tr id="toc-row-31">
        <th><a href="#slide31">Semantics matter.</a></th>
        <td><a href="#slide31">31</a></td>
      </tr>
      
        
        <tr id="toc-row-32" class="sub">
          <th><a href="#slide32">An Example of Bad Semantics</a></th>
          <td><a href="#slide32">32</a></td>
        </tr>
        
        <tr id="toc-row-33" class="sub">
          <th><a href="#slide33">Better Semantics</a></th>
          <td><a href="#slide33">33</a></td>
        </tr>
        
        <tr id="toc-row-34" class="sub">
          <th><a href="#slide34">Creating Custom Events</a></th>
          <td><a href="#slide34">34</a></td>
        </tr>
        
        <tr id="toc-row-35" class="sub">
          <th><a href="#slide35">Using Custom Events: part 1</a></th>
          <td><a href="#slide35">35</a></td>
        </tr>
        
        <tr id="toc-row-36" class="sub">
          <th><a href="#slide36">Using Custom Events: part 2</a></th>
          <td><a href="#slide36">36</a></td>
        </tr>
        
        <tr id="toc-row-37" class="sub">
          <th><a href="#slide37">Using Custom Events: part 3</a></th>
          <td><a href="#slide37">37</a></td>
        </tr>
        
      
      
      <tr id="toc-row-38">
        <th><a href="#slide38">Recommended Usage</a></th>
        <td><a href="#slide38">38</a></td>
      </tr>
      
        
        <tr id="toc-row-39" class="sub">
          <th><a href="#slide39">Compose an EventManager</a></th>
          <td><a href="#slide39">39</a></td>
        </tr>
        
        <tr id="toc-row-40" class="sub">
          <th><a href="#slide40">Trigger Events</a></th>
          <td><a href="#slide40">40</a></td>
        </tr>
        
        <tr id="toc-row-41" class="sub">
          <th><a href="#slide41">Notes on Triggering</a></th>
          <td><a href="#slide41">41</a></td>
        </tr>
        
      
      
      <tr id="toc-row-42">
        <th><a href="#slide42">Aggregate Listeners</a></th>
        <td><a href="#slide42">42</a></td>
      </tr>
      
      
      <tr id="toc-row-43">
        <th><a href="#slide43">Sometimes you'll want stateful listeners.</a></th>
        <td><a href="#slide43">43</a></td>
      </tr>
      
      
      <tr id="toc-row-44">
        <th><a href="#slide44">Sometimes listeners fall under the same area of responsibility.</a></th>
        <td><a href="#slide44">44</a></td>
      </tr>
      
        
        <tr id="toc-row-45" class="sub">
          <th><a href="#slide45">Aggregate Listeners</a></th>
          <td><a href="#slide45">45</a></td>
        </tr>
        
        <tr id="toc-row-46" class="sub">
          <th><a href="#slide46">Example</a></th>
          <td><a href="#slide46">46</a></td>
        </tr>
        
        <tr id="toc-row-47" class="sub">
          <th><a href="#slide47">Aggregate Functionality</a></th>
          <td><a href="#slide47">47</a></td>
        </tr>
        
        <tr id="toc-row-48" class="sub">
          <th><a href="#slide48">Using Aggregates</a></th>
          <td><a href="#slide48">48</a></td>
        </tr>
        
      
      
      <tr id="toc-row-49">
        <th><a href="#slide49">Attaching Listeners Globally</a></th>
        <td><a href="#slide49">49</a></td>
      </tr>
      
        
        <tr id="toc-row-50" class="sub">
          <th><a href="#slide50">Why?</a></th>
          <td><a href="#slide50">50</a></td>
        </tr>
        
        <tr id="toc-row-51" class="sub">
          <th><a href="#slide51">How?</a></th>
          <td><a href="#slide51">51</a></td>
        </tr>
        
        <tr id="toc-row-52" class="sub">
          <th><a href="#slide52">What is the "context"?</a></th>
          <td><a href="#slide52">52</a></td>
        </tr>
        
        <tr id="toc-row-53" class="sub">
          <th><a href="#slide53">Example</a></th>
          <td><a href="#slide53">53</a></td>
        </tr>
        
      
      
      <tr id="toc-row-54">
        <th><a href="#slide54">Advanced Topics</a></th>
        <td><a href="#slide54">54</a></td>
      </tr>
      
      
      <tr id="toc-row-55">
        <th><a href="#slide55">Short Circuiting</a></th>
        <td><a href="#slide55">55</a></td>
      </tr>
      
        
        <tr id="toc-row-56" class="sub">
          <th><a href="#slide56">What?</a></th>
          <td><a href="#slide56">56</a></td>
        </tr>
        
        <tr id="toc-row-57" class="sub">
          <th><a href="#slide57">How?</a></th>
          <td><a href="#slide57">57</a></td>
        </tr>
        
        <tr id="toc-row-58" class="sub">
          <th><a href="#slide58">How?</a></th>
          <td><a href="#slide58">58</a></td>
        </tr>
        
        <tr id="toc-row-59" class="sub">
          <th><a href="#slide59">Testing for stopped propagation</a></th>
          <td><a href="#slide59">59</a></td>
        </tr>
        
      
      
      <tr id="toc-row-60">
        <th><a href="#slide60">Introspecting results</a></th>
        <td><a href="#slide60">60</a></td>
      </tr>
      
        
        <tr id="toc-row-61" class="sub">
          <th><a href="#slide61">Iterate:</a></th>
          <td><a href="#slide61">61</a></td>
        </tr>
        
        <tr id="toc-row-62" class="sub">
          <th><a href="#slide62">First result:</a></th>
          <td><a href="#slide62">62</a></td>
        </tr>
        
        <tr id="toc-row-63" class="sub">
          <th><a href="#slide63">Last result:</a></th>
          <td><a href="#slide63">63</a></td>
        </tr>
        
        <tr id="toc-row-64" class="sub">
          <th><a href="#slide64">Test for specific value:</a></th>
          <td><a href="#slide64">64</a></td>
        </tr>
        
      
      
      <tr id="toc-row-65">
        <th><a href="#slide65">Prioritized Events</a></th>
        <td><a href="#slide65">65</a></td>
      </tr>
      
        
        <tr id="toc-row-66" class="sub">
          <th><a href="#slide66">Why?</a></th>
          <td><a href="#slide66">66</a></td>
        </tr>
        
        <tr id="toc-row-67" class="sub">
          <th><a href="#slide67">How?</a></th>
          <td><a href="#slide67">67</a></td>
        </tr>
        
        <tr id="toc-row-68" class="sub">
          <th><a href="#slide68">Examples</a></th>
          <td><a href="#slide68">68</a></td>
        </tr>
        
      
      
      <tr id="toc-row-69">
        <th><a href="#slide69">Putting it Together</a></th>
        <td><a href="#slide69">69</a></td>
      </tr>
      
        
        <tr id="toc-row-70" class="sub">
          <th><a href="#slide70">Our target</a></th>
          <td><a href="#slide70">70</a></td>
        </tr>
        
        <tr id="toc-row-71" class="sub">
          <th><a href="#slide71">Caching: check for match</a></th>
          <td><a href="#slide71">71</a></td>
        </tr>
        
        <tr id="toc-row-72" class="sub">
          <th><a href="#slide72">Caching: cache a value</a></th>
          <td><a href="#slide72">72</a></td>
        </tr>
        
        <tr id="toc-row-73" class="sub">
          <th><a href="#slide73">Summary</a></th>
          <td><a href="#slide73">73</a></td>
        </tr>
        
      
      
      <tr id="toc-row-74">
        <th><a href="#slide74">MVC</a></th>
        <td><a href="#slide74">74</a></td>
      </tr>
      
        
        <tr id="toc-row-75" class="sub">
          <th><a href="#slide75">In a nutshell...</a></th>
          <td><a href="#slide75">75</a></td>
        </tr>
        
        <tr id="toc-row-76" class="sub">
          <th><a href="#slide76">From the inside out</a></th>
          <td><a href="#slide76">76</a></td>
        </tr>
        
      
      
      <tr id="toc-row-77">
        <th><a href="#slide77">Controllers and HTTP</a></th>
        <td><a href="#slide77">77</a></td>
      </tr>
      
        
        <tr id="toc-row-78" class="sub">
          <th><a href="#slide78">Zend\Stdlib\Dispatchable</a></th>
          <td><a href="#slide78">78</a></td>
        </tr>
        
        <tr id="toc-row-79" class="sub">
          <th><a href="#slide79">Use Cases for Dispatchables</a></th>
          <td><a href="#slide79">79</a></td>
        </tr>
        
        <tr id="toc-row-80" class="sub">
          <th><a href="#slide80">Most basic controller</a></th>
          <td><a href="#slide80">80</a></td>
        </tr>
        
        <tr id="toc-row-81" class="sub">
          <th><a href="#slide81">Typical Controller</a></th>
          <td><a href="#slide81">81</a></td>
        </tr>
        
        <tr id="toc-row-82" class="sub">
          <th><a href="#slide82">Proposed View Layer</a></th>
          <td><a href="#slide82">82</a></td>
        </tr>
        
        <tr id="toc-row-83" class="sub">
          <th><a href="#slide83">Request Object</a></th>
          <td><a href="#slide83">83</a></td>
        </tr>
        
        <tr id="toc-row-84" class="sub">
          <th><a href="#slide84">Response Object</a></th>
          <td><a href="#slide84">84</a></td>
        </tr>
        
        <tr id="toc-row-85" class="sub">
          <th><a href="#slide85">Headers</a></th>
          <td><a href="#slide85">85</a></td>
        </tr>
        
        <tr id="toc-row-86" class="sub">
          <th><a href="#slide86">View Models</a></th>
          <td><a href="#slide86">86</a></td>
        </tr>
        
        <tr id="toc-row-87" class="sub">
          <th><a href="#slide87">View Model: Example</a></th>
          <td><a href="#slide87">87</a></td>
        </tr>
        
        <tr id="toc-row-88" class="sub">
          <th><a href="#slide88">Context-Specific View Models</a></th>
          <td><a href="#slide88">88</a></td>
        </tr>
        
      
      
      <tr id="toc-row-89">
        <th><a href="#slide89">Routing Requests</a></th>
        <td><a href="#slide89">89</a></td>
      </tr>
      
        
        <tr id="toc-row-90" class="sub">
          <th><a href="#slide90">Routing</a></th>
          <td><a href="#slide90">90</a></td>
        </tr>
        
        <tr id="toc-row-91" class="sub">
          <th><a href="#slide91">Types of routes</a></th>
          <td><a href="#slide91">91</a></td>
        </tr>
        
        <tr id="toc-row-92" class="sub">
          <th><a href="#slide92">TreeRouteStack Example</a></th>
          <td><a href="#slide92">92</a></td>
        </tr>
        
        <tr id="toc-row-93" class="sub">
          <th><a href="#slide93">Routing</a></th>
          <td><a href="#slide93">93</a></td>
        </tr>
        
        <tr id="toc-row-94" class="sub">
          <th><a href="#slide94">A note on RouteMatch-es</a></th>
          <td><a href="#slide94">94</a></td>
        </tr>
        
      
      
      <tr id="toc-row-95">
        <th><a href="#slide95">Modular MVC Applications</a></th>
        <td><a href="#slide95">95</a></td>
      </tr>
      
      
      <tr id="toc-row-96">
        <th><a href="#slide96">What is a module?</a></th>
        <td><a href="#slide96">96</a></td>
      </tr>
      
        
        <tr id="toc-row-97" class="sub">
          <th><a href="#slide97">Modules in ZF2</a></th>
          <td><a href="#slide97">97</a></td>
        </tr>
        
        <tr id="toc-row-98" class="sub">
          <th><a href="#slide98">Modules can contain...</a></th>
          <td><a href="#slide98">98</a></td>
        </tr>
        
        <tr id="toc-row-99" class="sub">
          <th><a href="#slide99">At the most basic...</a></th>
          <td><a href="#slide99">99</a></td>
        </tr>
        
        <tr id="toc-row-100" class="sub">
          <th><a href="#slide100">The module class...</a></th>
          <td><a href="#slide100">100</a></td>
        </tr>
        
        <tr id="toc-row-101" class="sub">
          <th><a href="#slide101">Recommended module structure</a></th>
          <td><a href="#slide101">101</a></td>
        </tr>
        
        <tr id="toc-row-102" class="sub">
          <th><a href="#slide102">Modules typically provide...</a></th>
          <td><a href="#slide102">102</a></td>
        </tr>
        
        <tr id="toc-row-103" class="sub">
          <th><a href="#slide103">Providing autoloading hints</a></th>
          <td><a href="#slide103">103</a></td>
        </tr>
        
        <tr id="toc-row-104" class="sub">
          <th><a href="#slide104">Providing configuration</a></th>
          <td><a href="#slide104">104</a></td>
        </tr>
        
        <tr id="toc-row-105" class="sub">
          <th><a href="#slide105">Example module configuration</a></th>
          <td><a href="#slide105">105</a></td>
        </tr>
        
        <tr id="toc-row-106" class="sub">
          <th><a href="#slide106">Event registration (post-init tasks)</a></th>
          <td><a href="#slide106">106</a></td>
        </tr>
        
      
      
      <tr id="toc-row-107">
        <th><a href="#slide107">Bootstrapping and Application Running</a></th>
        <td><a href="#slide107">107</a></td>
      </tr>
      
        
        <tr id="toc-row-108" class="sub">
          <th><a href="#slide108">Bootstrapping</a></th>
          <td><a href="#slide108">108</a></td>
        </tr>
        
        <tr id="toc-row-109" class="sub">
          <th><a href="#slide109">Putting it together: index.php</a></th>
          <td><a href="#slide109">109</a></td>
        </tr>
        
        <tr id="toc-row-110" class="sub">
          <th><a href="#slide110">What about the V, View?</a></th>
          <td><a href="#slide110">110</a></td>
        </tr>
        
      
      
      <tr id="toc-row-111">
        <th><a href="#slide111">Getting Your Hands Dirty: Contact!</a></th>
        <td><a href="#slide111">111</a></td>
      </tr>
      
        
        <tr id="toc-row-112" class="sub">
          <th><a href="#slide112">The goal:</a></th>
          <td><a href="#slide112">112</a></td>
        </tr>
        
        <tr id="toc-row-113" class="sub">
          <th><a href="#slide113">To begin:</a></th>
          <td><a href="#slide113">113</a></td>
        </tr>
        
        <tr id="toc-row-114" class="sub">
          <th><a href="#slide114">Routes: Base route</a></th>
          <td><a href="#slide114">114</a></td>
        </tr>
        
        <tr id="toc-row-115" class="sub">
          <th><a href="#slide115">Routes: Process form</a></th>
          <td><a href="#slide115">115</a></td>
        </tr>
        
        <tr id="toc-row-116" class="sub">
          <th><a href="#slide116">Routes: Thank you page</a></th>
          <td><a href="#slide116">116</a></td>
        </tr>
        
        <tr id="toc-row-117" class="sub">
          <th><a href="#slide117">Defining the form</a></th>
          <td><a href="#slide117">117</a></td>
        </tr>
        
        <tr id="toc-row-118" class="sub">
          <th><a href="#slide118">Contact Form</a></th>
          <td><a href="#slide118">118</a></td>
        </tr>
        
        <tr id="toc-row-119" class="sub">
          <th><a href="#slide119">Contact Form</a></th>
          <td><a href="#slide119">119</a></td>
        </tr>
        
        <tr id="toc-row-120" class="sub">
          <th><a href="#slide120">Contact Form</a></th>
          <td><a href="#slide120">120</a></td>
        </tr>
        
        <tr id="toc-row-121" class="sub">
          <th><a href="#slide121">Controller: Dependencies</a></th>
          <td><a href="#slide121">121</a></td>
        </tr>
        
        <tr id="toc-row-122" class="sub">
          <th><a href="#slide122">Controller: Display form</a></th>
          <td><a href="#slide122">122</a></td>
        </tr>
        
        <tr id="toc-row-123" class="sub">
          <th><a href="#slide123">Controller: Process form</a></th>
          <td><a href="#slide123">123</a></td>
        </tr>
        
        <tr id="toc-row-124" class="sub">
          <th><a href="#slide124">Controller: Send email</a></th>
          <td><a href="#slide124">124</a></td>
        </tr>
        
        <tr id="toc-row-125" class="sub">
          <th><a href="#slide125">Controller: Thank you page</a></th>
          <td><a href="#slide125">125</a></td>
        </tr>
        
        <tr id="toc-row-126" class="sub">
          <th><a href="#slide126">Add view scripts: Form</a></th>
          <td><a href="#slide126">126</a></td>
        </tr>
        
        <tr id="toc-row-127" class="sub">
          <th><a href="#slide127">Add view scripts: Thank You</a></th>
          <td><a href="#slide127">127</a></td>
        </tr>
        
        <tr id="toc-row-128" class="sub">
          <th><a href="#slide128">DI Definitions: Controller/Form</a></th>
          <td><a href="#slide128">128</a></td>
        </tr>
        
        <tr id="toc-row-129" class="sub">
          <th><a href="#slide129">DI Definitions: Message</a></th>
          <td><a href="#slide129">129</a></td>
        </tr>
        
        <tr id="toc-row-130" class="sub">
          <th><a href="#slide130">DI Preferences and aliases</a></th>
          <td><a href="#slide130">130</a></td>
        </tr>
        
        <tr id="toc-row-131" class="sub">
          <th><a href="#slide131">DI Configuration: Controller/Form</a></th>
          <td><a href="#slide131">131</a></td>
        </tr>
        
        <tr id="toc-row-132" class="sub">
          <th><a href="#slide132">DI Configuration: View scripts</a></th>
          <td><a href="#slide132">132</a></td>
        </tr>
        
        <tr id="toc-row-133" class="sub">
          <th><a href="#slide133">Create an autoloader map</a></th>
          <td><a href="#slide133">133</a></td>
        </tr>
        
        <tr id="toc-row-134" class="sub">
          <th><a href="#slide134">Module class: autoloading</a></th>
          <td><a href="#slide134">134</a></td>
        </tr>
        
        <tr id="toc-row-135" class="sub">
          <th><a href="#slide135">Module class: configuration</a></th>
          <td><a href="#slide135">135</a></td>
        </tr>
        
        <tr id="toc-row-136" class="sub">
          <th><a href="#slide136">Add application configuration</a></th>
          <td><a href="#slide136">136</a></td>
        </tr>
        
        <tr id="toc-row-137" class="sub">
          <th><a href="#slide137">Add the module to the app</a></th>
          <td><a href="#slide137">137</a></td>
        </tr>
        
        <tr id="toc-row-138" class="sub">
          <th><a href="#slide138">Visit the page</a></th>
          <td><a href="#slide138">138</a></td>
        </tr>
        
        <tr id="toc-row-139" class="sub">
          <th><a href="#slide139">Review</a></th>
          <td><a href="#slide139">139</a></td>
        </tr>
        
      
      
      <tr id="toc-row-140">
        <th><a href="#slide140">Wrapping Up</a></th>
        <td><a href="#slide140">140</a></td>
      </tr>
      
        
        <tr id="toc-row-141" class="sub">
          <th><a href="#slide141">When?</a></th>
          <td><a href="#slide141">141</a></td>
        </tr>
        
        <tr id="toc-row-142" class="sub">
          <th><a href="#slide142">Resources</a></th>
          <td><a href="#slide142">142</a></td>
        </tr>
        
        <tr id="toc-row-143" class="sub">
          <th><a href="#slide143">Helping out</a></th>
          <td><a href="#slide143">143</a></td>
        </tr>
        
      
      
      <tr id="toc-row-144">
        <th><a href="#slide144">Thank You!</a></th>
        <td><a href="#slide144">144</a></td>
      </tr>
      
      
    </table>
  </div>
  
  <div id="help" class="sidebar hidden">
    <h2>Help</h2>
    <table>
      <caption>Help</caption>
      <tr>
        <th>Table of Contents</th>
        <td>t</td>
      </tr>
      <tr>
        <th>Expos</th>
        <td>ESC</td>
      </tr>
      <tr>
        <th>Full screen slides</th>
        <td>e</td>
      </tr>
      <tr>
        <th>Presenter View</th>
        <td>p</td>
      </tr>
      <tr>
        <th>Source Files</th>
        <td>s</td>
      </tr>
      <tr>
        <th>Slide Numbers</th>
        <td>n</td>
      </tr>
      <tr>
        <th>Toggle screen blanking</th>
        <td>b</td>
      </tr>
      <tr>
        <th>Show/hide slide context</th>
        <td>c</td>
      </tr>
      <tr>
        <th>Notes</th>
        <td>2</td>
      </tr>
      <tr>
        <th>Help</th>
        <td>h</td>
      </tr>
    </table>
  </div>
  <script>main()</script>
</body>
</html>