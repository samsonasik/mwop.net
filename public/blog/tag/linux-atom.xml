<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title type="text">Tag: linux :: phly, boy, phly</title>
  <updated>2010-03-25T10:57:03+0000</updated>
  <generator uri="http://framework.zend.com" version="2.0.0beta5">Zend_Feed_Writer</generator>
  <link rel="alternate" type="text/html" href="http://mwop.net/blog/tag/linux.html"/>
  <link rel="self" type="application/atom+xml" href="http://mwop.net/blog/tag/linux-atom.xml"/>
  <id>http://mwop.net/blog/tag/linux.html</id>
  <entry xmlns:xhtml="http://www.w3.org/1999/xhtml">
    <title type="html"><![CDATA[GPG-signing Git Commits]]></title>
    <published>2010-03-24T16:26:43+0000</published>
    <updated>2010-03-25T10:57:03+0000</updated>
    <link rel="alternate" type="text/html" href="http://mwop.net/blog/236-GPG-signing-Git-Commits.html"/>
    <id>http://mwop.net/blog/236-GPG-signing-Git-Commits.html</id>
    <author>
      <name>Matthew Weier O'Phinney</name>
      <email>me@mwop.net</email>
      <uri>http://mwop.net</uri>
    </author>
    <content xmlns:xhtml="http://www.w3.org/1999/xhtml" type="xhtml">
      <xhtml:div xmlns:xhtml="http://www.w3.org/1999/xhtml"><xhtml:p>We're working on migrating <xhtml:a href="http://framework.zend.com/">Zend Framework</xhtml:a> to <xhtml:a href="http://git-scm.org/">Git</xhtml:a>. One issue we're trying to deal with
is enforcing that commits come from <xhtml:acronym title="Contributor License Agreement">CLA</xhtml:acronym> signees.</xhtml:p>
<xhtml:p>One possibility presented to us was the possibility of utilizing
<xhtml:acronym title="GNU Privacy Guard">GPG</xhtml:acronym> signing of commit
messages. Unfortunately, I was able to find little to no
information on the 'net about how this might be done, so I started
to experiment with some solutions.</xhtml:p>
<xhtml:p>The approach I chose utilizes <xhtml:a href="http://www.kernel.org/pub/software/scm/git/docs/githooks.html">git
hooks</xhtml:a>, specifically the <xhtml:code>commit-msg</xhtml:code> hook
client-side, and the <xhtml:code>pre-receive</xhtml:code> hook server-side.</xhtml:p>
</xhtml:div>
    </content>
  </entry>
  <entry xmlns:xhtml="http://www.w3.org/1999/xhtml">
    <title type="html"><![CDATA[Enabling VPN split tunnel with NetworkManager]]></title>
    <published>2009-08-31T19:34:37+0000</published>
    <updated>2009-08-31T19:34:37+0000</updated>
    <link rel="alternate" type="text/html" href="http://mwop.net/blog/223-Enabling-VPN-split-tunnel-with-NetworkManager.html"/>
    <id>http://mwop.net/blog/223-Enabling-VPN-split-tunnel-with-NetworkManager.html</id>
    <author>
      <name>Matthew Weier O'Phinney</name>
      <email>me@mwop.net</email>
      <uri>http://mwop.net</uri>
    </author>
    <content xmlns:xhtml="http://www.w3.org/1999/xhtml" type="xhtml">
      <xhtml:div xmlns:xhtml="http://www.w3.org/1999/xhtml"><xhtml:p>I've been using <xhtml:a href="http://projects.gnome.org/NetworkManager/">NetworkManager</xhtml:a> for
some time now, and appreciate how easy it makes both connecting to
wifi as well as VPNs. That said, I've had an issue with it that I
only resolved today.</xhtml:p>
<xhtml:p>When working from home, I prefer to use a VPN split tunnel setup
-- I'm behind a firewall all the time, and it's useful to be able
to run virtual machines while still connected to my VPN (e.g., when
doing training or webinar sessions). However, I noticed some months
ago that this wasn't working. I assumed at first it was a change in
our network setup, but others reported that the split tunnel was
working fine. It's been particularly problematic when on IRC -- if
the VPN drops, I lose my IRC connection, meaning I have to
re-connect and re-claim my nick.</xhtml:p>
<xhtml:p>So, I did some searching, and found an interesting setting. In
NetworkManager, "Configure..." then "Edit" your VPN connection, and
navigate to the "IPv4 Settings" tab. Once there, click the button
that says "Routes..." and select the checkbox next to "Use this
connection only for resources on its network". Press Ok to close
the dialog, then "Apply" to exit out of the VPN configuration.
Re-connect to the VPN, and you should be all set.</xhtml:p>
<xhtml:p><xhtml:em>Note: this will only work if your VPN server is configured
to allow split tunnels. Additionally, only do so if you are behind
a firewall. Practice safe networking.</xhtml:em></xhtml:p>
</xhtml:div>
    </content>
  </entry>
  <entry xmlns:xhtml="http://www.w3.org/1999/xhtml">
    <title type="html"><![CDATA[VirtualBox Networking]]></title>
    <published>2009-01-17T15:43:40+0000</published>
    <updated>2009-01-17T15:43:40+0000</updated>
    <link rel="alternate" type="text/html" href="http://mwop.net/blog/205-VirtualBox-Networking.html"/>
    <id>http://mwop.net/blog/205-VirtualBox-Networking.html</id>
    <author>
      <name>Matthew Weier O'Phinney</name>
      <email>me@mwop.net</email>
      <uri>http://mwop.net</uri>
    </author>
    <content xmlns:xhtml="http://www.w3.org/1999/xhtml" type="xhtml">
      <xhtml:div xmlns:xhtml="http://www.w3.org/1999/xhtml"><xhtml:p>I use Linux on the desktop (currently <xhtml:a href="http://www.ubuntu.com/">Ubuntu</xhtml:a>), but occasionally need to use
Windows for things like webinars, OS-specific testing, etc. I
started using <xhtml:a href="http://virtualbox.org/">VirtualBox</xhtml:a> for
virtualization around six months ago, and have been reasonably
satisfied; Windows boots quickly, and everything "just works." That
is, until yesterday.</xhtml:p>
<xhtml:p>I was given a linux VM image running a web server and some
applications I needed to review. On top of that, I needed to do so
over WebEx, so that I could share my screen with somebody else.
This meant I needed the following to work:</xhtml:p>
<xhtml:ol>
<xhtml:li>Internet access for my Windows VM</xhtml:li>
<xhtml:li>Access to my linux VM from my Windows VM</xhtml:li>
<xhtml:li>Ideally, access to both guest VMs from my linux host</xhtml:li>
<xhtml:li>Ideally, internet access for my linux host</xhtml:li>
</xhtml:ol>
</xhtml:div>
    </content>
  </entry>
  <entry xmlns:xhtml="http://www.w3.org/1999/xhtml">
    <title type="html"><![CDATA[Server Upgrades... lost entries...]]></title>
    <published>2008-05-16T13:05:13+0000</published>
    <updated>2008-05-21T18:35:27+0000</updated>
    <link rel="alternate" type="text/html" href="http://mwop.net/blog/171-Server-Upgrades...-lost-entries....html"/>
    <id>http://mwop.net/blog/171-Server-Upgrades...-lost-entries....html</id>
    <author>
      <name>Matthew Weier O'Phinney</name>
      <email>me@mwop.net</email>
      <uri>http://mwop.net</uri>
    </author>
    <content xmlns:xhtml="http://www.w3.org/1999/xhtml" type="xhtml">
      <xhtml:div xmlns:xhtml="http://www.w3.org/1999/xhtml"><xhtml:p>My good friend, Rob, hosts my site for me, in return for helping
with server maintenance. After being on Gentoo for the past three
years, though, we decided it was time to switch to something a
little easier to maintain, so last night we wiped the system
partitions and installed Ubuntu server.</xhtml:p>
<xhtml:p>I'll say this: the setup is much faster! However, we had a few
gotchas that surprised us -- it didn't setup our RAID array
out-of-the-box, which led to a good hour of frustration as we tried
to verify that the install wouldn't wipe it, and then to verify
that we could re-assemble it. (We succeeded.) Additionally, we
second-guessed a few things we shouldn't have, which led to needing
to back out and reconfigure. But what was over a 12 hour install
with Gentoo we accomplished in a matter of a few hours with Ubuntu
server -- so it was a huge success that way.</xhtml:p>
<xhtml:p>Unfortunately, our mysqldump of all databases... wasn't, a fact
we discovered only after importing it into the new system. I ended
up losing my blog database and PEAR channel database. Fortunately,
the PEAR channel has not changed at all in the past year, so we had
an old backup that worked, and I had a snapshot of my blog database
from three weeks ago I was able to use. As a result, there are a
few missing entries, but for the most part, all works. If you
commented on one of those missing entries, my apologies.</xhtml:p>
<xhtml:p>Now that the install is done, I'm also finalizing some design
changes to my blog -- it's time to leave the black and white for
more colorful grounds. Look for a revamp in the coming weeks!</xhtml:p>
</xhtml:div>
    </content>
  </entry>
  <entry xmlns:xhtml="http://www.w3.org/1999/xhtml">
    <title type="html"><![CDATA[Apache HOSTNAME on Clusters]]></title>
    <published>2008-01-25T22:38:16+0000</published>
    <updated>2008-01-26T13:22:44+0000</updated>
    <link rel="alternate" type="text/html" href="http://mwop.net/blog/156-Apache-HOSTNAME-on-Clusters.html"/>
    <id>http://mwop.net/blog/156-Apache-HOSTNAME-on-Clusters.html</id>
    <author>
      <name>Matthew Weier O'Phinney</name>
      <email>me@mwop.net</email>
      <uri>http://mwop.net</uri>
    </author>
    <content xmlns:xhtml="http://www.w3.org/1999/xhtml" type="xhtml">
      <xhtml:div xmlns:xhtml="http://www.w3.org/1999/xhtml"><xhtml:p>In an effort to debug issues on a cluster, I was trying to
determine which machine on the cluster was causing the issue. My
idea was that I could insert a header token identifying the
server.</xhtml:p>
<xhtml:p>My first idea was to add the directive 'Header add X-Server-Ip
"%{SERVER_ADDR}e" in my httpd.conf. However, due to the nature of
our load balancer, Apache was somehow resolving this to the load
balancer IP address on all machines of the cluster -- which was
really, really not useful.</xhtml:p>
<xhtml:p>I finally stumbled on a good solution, however: you can set
environment variables in apachectl, and then pass them into the
Apache environment using the PassEnv directive from mod_env; once
that's done, you can use the environment variable anywhere.</xhtml:p>
<xhtml:p>In my apachectl, I added the line "export HOSTNAME=`hostname`".
Then, in my httpd.conf, I added first the line "PassEnv HOSTNAME",
followed by the directive 'Header add X-Server-Name
"%{HOSTNAME}e"'. Voila! I now had the hostname in the header, which
gave me the information I needed for debugging.</xhtml:p>
</xhtml:div>
    </content>
  </entry>
  <entry xmlns:xhtml="http://www.w3.org/1999/xhtml">
    <title type="html"><![CDATA[Gutsy Gibbon review]]></title>
    <published>2007-10-20T11:55:00+0000</published>
    <updated>2007-10-24T20:38:00+0000</updated>
    <link rel="alternate" type="text/html" href="http://mwop.net/blog/147-Gutsy-Gibbon-review.html"/>
    <id>http://mwop.net/blog/147-Gutsy-Gibbon-review.html</id>
    <author>
      <name>Matthew Weier O'Phinney</name>
      <email>me@mwop.net</email>
      <uri>http://mwop.net</uri>
    </author>
    <content xmlns:xhtml="http://www.w3.org/1999/xhtml" type="xhtml">
      <xhtml:div xmlns:xhtml="http://www.w3.org/1999/xhtml"><xhtml:p>Early in the week, I decided to avoid the release rush and go
ahead and update my laptop to <xhtml:a href="http://www.ubuntu.com">Ubuntu's</xhtml:a> Gutsy Gibbon release. Overall,
it's quite good, with one caveat I'll elaborate on later.</xhtml:p>
</xhtml:div>
    </content>
  </entry>
  <entry xmlns:xhtml="http://www.w3.org/1999/xhtml">
    <title type="html"><![CDATA[Back on Linux Again]]></title>
    <published>2007-02-17T18:50:58+0000</published>
    <updated>2007-05-17T15:03:06+0000</updated>
    <link rel="alternate" type="text/html" href="http://mwop.net/blog/136-Back-on-Linux-Again.html"/>
    <id>http://mwop.net/blog/136-Back-on-Linux-Again.html</id>
    <author>
      <name>Matthew Weier O'Phinney</name>
      <email>me@mwop.net</email>
      <uri>http://mwop.net</uri>
    </author>
    <content xmlns:xhtml="http://www.w3.org/1999/xhtml" type="xhtml">
      <xhtml:div xmlns:xhtml="http://www.w3.org/1999/xhtml"><xhtml:p>A little over a year ago, <xhtml:a href="http://weierophinney.net/matthew/archives/101-Using-Windows-XP.html">
I stopped using Linux as my primary desktop</xhtml:a> due to the fact
that a number of programs we were using were Windows dependent.
Despite <xhtml:a href="http://weierophinney.net/matthew/archives/103-XP-+-Cygwin-+-coLinux-Productivity.html">
getting coLinux running</xhtml:a>, I've never been completely satisfied
with the setup. I missed being able to paste with my middle-mouse
button, and I was constantly having character encoding issues
pasting back and forth between PuTTY and windows apps, couldn't
access mail easily between my coLinux and Windows partitions, and
overall felt that I was losing out on some productivity by not
having a native linux environment as my primary OS.</xhtml:p>
<xhtml:p>Last week, we had an infrastructure change at work, and I
basically realized that my Windows + coLinux setup was going to get
in the way of productivity -- and that, at this point, there were
now Windows applications tying me to that OS. So, I decided it was
time to go back to Linux.</xhtml:p>
</xhtml:div>
    </content>
  </entry>
  <entry xmlns:xhtml="http://www.w3.org/1999/xhtml">
    <title type="html"><![CDATA[coLinux Recovery]]></title>
    <published>2006-09-25T21:27:00+0000</published>
    <updated>2006-09-25T21:27:00+0000</updated>
    <link rel="alternate" type="text/html" href="http://mwop.net/blog/124-coLinux-Recovery.html"/>
    <id>http://mwop.net/blog/124-coLinux-Recovery.html</id>
    <author>
      <name>Matthew Weier O'Phinney</name>
      <email>me@mwop.net</email>
      <uri>http://mwop.net</uri>
    </author>
    <content xmlns:xhtml="http://www.w3.org/1999/xhtml" type="xhtml">
      <xhtml:div xmlns:xhtml="http://www.w3.org/1999/xhtml"><xhtml:p>As <xhtml:a href="http://weierophinney.net/matthew/archives/103-XP-+-Cygwin-+-coLinux-Productivity.html">
I've written previously,</xhtml:a> I use <xhtml:a href="http://www.colinux.org">coLinux</xhtml:a> in order to have a Linux
virtual machine running on my Windows XP install. It runs Debian
unstable (SID), which gives me all apt-geet love I could want.</xhtml:p>
<xhtml:p>Except when an apt-get based install goes bad, that is, like it
did Saturday evening. This is the tale of how I got it back up and
running.</xhtml:p>
</xhtml:div>
    </content>
  </entry>
  <entry xmlns:xhtml="http://www.w3.org/1999/xhtml">
    <title type="html"><![CDATA[XP + Cygwin + coLinux == Productivity]]></title>
    <published>2006-01-05T21:57:00+0000</published>
    <updated>2006-01-11T19:58:23+0000</updated>
    <link rel="alternate" type="text/html" href="http://mwop.net/blog/103-XP-+-Cygwin-+-coLinux-Productivity.html"/>
    <id>http://mwop.net/blog/103-XP-+-Cygwin-+-coLinux-Productivity.html</id>
    <author>
      <name>Matthew Weier O'Phinney</name>
      <email>me@mwop.net</email>
      <uri>http://mwop.net</uri>
    </author>
    <content xmlns:xhtml="http://www.w3.org/1999/xhtml" type="xhtml">
      <xhtml:div xmlns:xhtml="http://www.w3.org/1999/xhtml"><xhtml:p>I wrote earlier of my experiences <xhtml:a href="http://weierophinney.net/matthew/archives/101-Using-Windows-XP.html">
using Windows XP</xhtml:a>, a move I've considered somewhat unfortunate
but necessary. I've added a couple more tools to my toolbox since
that have made the environment even better.</xhtml:p>
</xhtml:div>
    </content>
  </entry>
  <entry xmlns:xhtml="http://www.w3.org/1999/xhtml">
    <title type="html"><![CDATA[File_SMBPasswd woes]]></title>
    <published>2005-09-07T20:20:00+0000</published>
    <updated>2005-09-08T13:50:23+0000</updated>
    <link rel="alternate" type="text/html" href="http://mwop.net/blog/93-File_SMBPasswd-woes.html"/>
    <id>http://mwop.net/blog/93-File_SMBPasswd-woes.html</id>
    <author>
      <name>Matthew Weier O'Phinney</name>
      <email>me@mwop.net</email>
      <uri>http://mwop.net</uri>
    </author>
    <content xmlns:xhtml="http://www.w3.org/1999/xhtml" type="xhtml">
      <xhtml:div xmlns:xhtml="http://www.w3.org/1999/xhtml"><xhtml:p>I've been cobbling together a system at work for the last couple
months to allow a single place for changing all network passwords.
This includes a variety of database sources, as well as
<xhtml:i>passwd</xhtml:i> files and <xhtml:i>smbpasswd</xhtml:i> files. I've been making
use of PEAR's <xhtml:a href="http://pear.php.net/package/File_Passwd">File_Passwd</xhtml:a> and
<xhtml:a href="http://pear.php.net/package/File_SMBPasswd">File_SMBPasswd</xhtml:a>,
and they've greatly simplified the task of updating passwords for
those types of systems. However, I've encountered some issues that
I never would have expected.</xhtml:p>
<xhtml:p>I have the web user in a group called 'samba', and I have the
<xhtml:i>smbpasswd</xhtml:i> file owned by root:samba. I then set the
<xhtml:i>smbpasswd</xhtml:i> file to be group +rw. Simple, right? The web user
should then be able to update the <xhtml:i>smbpasswd</xhtml:i> file without a
problem, right? Wrong.</xhtml:p>
<xhtml:p>I kept getting errors, and on investigation continually found
that the <xhtml:i>smbpasswd</xhtml:i> file permissions had reverted to 0600 --
i.e., only the root user could access it. I tried using 'chattr -i'
on the off-chance that the file had been made immutable (which
didn't make sense, as I was able to see the permissions change). No
luck.</xhtml:p>
<xhtml:p>Based on observations of when the permissions reverted, it
appears that the various SMB processes will reset the permissions!
An example is when someone attempts to mount a resource from the
server; this accesses the smbpasswd file to perform authentication
-- and at this point the file permissions change. I can find no
documentation to support this; these are simply my
observations.</xhtml:p>
<xhtml:p>So, to get around the behaviour, I created a script that will
set the file permissions to what I want them, and then gave
<xhtml:i>sudo</xhtml:i> privileges to the samba group for that script. This
script is then called via <xhtml:i>system()</xhtml:i> in the update script just
before processing.</xhtml:p>
<xhtml:p>It's a hack, and could be made more secure, but it works.</xhtml:p>
</xhtml:div>
    </content>
  </entry>
</feed>
