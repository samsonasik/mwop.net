<!DOCTYPE html><!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html lang="en"> <!--<![endif]-->
<head>
	<meta charset="utf-8" />
    <title>Tag: php :: phly, boy, phly</title>
	<!--[if lt IE 9]>
		<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <link href="/css/SkeletonCss/base.css" media="screen" rel="stylesheet" type="text/css" >
<link href="/css/SkeletonCss/skeleton.css" media="screen" rel="stylesheet" type="text/css" >
<link href="/css/SkeletonCss/layout.css" media="screen" rel="stylesheet" type="text/css" >
<link href="/css/Application/site.css" media="screen" rel="stylesheet" type="text/css" >
<link href="/images/Application/favicon.ico" rel="shortcut icon" type="image/vnd.microsoft.icon" >
<link href="/css/Application/blog.css" media="screen" rel="stylesheet" type="text/css" >
<link href="/blog/tag/php-atom.xml" rel="alternate" type="application/atom+xml" title="Tag: php Atom Feed" >
<link href="/blog/tag/php-rss.xml" rel="alternate" type="application/rss+xml" title="Tag: php RSS Feed" >
    <script type="text/javascript">
    //<!--
dojoConfig={
    has: {
        "dojo-firebug": false
    },
    baseurl: "/js/",
    parseOnLoad: false,
    async: true,
    tlmSiblingOfDojo: false,
    packages: [
        { name: "dijit", location: "../dijit" },
        { name: "dojox", location: "../dojox" },
        { name: "Application", location: "../Application" }
    ]
};
    //-->
</script>
<script type="text/javascript" src="/js/dojo/dojo.js"></script>
<script type="text/javascript">
    //<!--
require(["Application/blog"]);    //-->
</script>
<script type="text/javascript">
    //<!--
require(["Application/scroll"], function(scroll) {});    //-->
</script>
    <script src="https://www.google.com/jsapi?ABQIAAAAGybdRRvLZwVUcF0dE3oVdBTO-MlgA7VGJpGqyqTOeDXlNzyZQxTGq17s-iAB0m0vwqLQ_A2dHhTg2Q"></script>
<script type="text/javascript">
    google.load('search', '1', {style: google.loader.themes.ESPRESSO});
    google.setOnLoadCallback(function(){
        new google.search.CustomSearchControl().draw('search');
    }, true);
</script>

    <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-27037983-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

</head>
<body>
<div class="container">
    <header class="sixteen columns">
        <div class="one-half column logo">
            <a href="/"><img src="/images/Application/logo.gif" height="37" width="37" alt="Celtic Knot" /></a>
            <span class="main_title">phly, boy, phly: matthew weier o'phinney</span>
        </div>

        <nav class="one-half column" id="menu"><ul>
            <li><a href="/">Home</a></li>
            <li><a href="/blog.html">Blog</a></li>
            <li><a href="/resume">R&eacute;sum&eacute;</a></li>
            <li><a href="/contact">Contact</a></li>
        </ul></nav>
    </header>


    <div class="sixteen columns content">
        <div class="row">
<section class="eleven columns alpha blog">
    <h2>Tag: php</h2>

<div class="row clearfix">
<aside class="two columns alpha entry meta">
    <p class="date">2007-12-19 08:44:11</p>
    <p class="tags"><a href="/blog/tag/php.html">php</a><br />
<a href="/blog/tag/zend+framewor.html">zend framewor</a></p>
</aside>

<section class="nine columns omega">
    <h4 class="entry"><a href="/blog/152-Zend_Layout-and-Zend_View-Enhanced-components-now-in-core.html">Zend_Layout and Zend_View Enhanced components now in core</a></h4>

    <div class="entry body"><p>
    I'm pleased to announce that the 
    <a href="http://framework.zend.com/wiki/pages/viewpage.action?pageId=33071">Zend_View Enhanced</a> 
    and <a href="http://framework.zend.com/wiki/display/ZFPROP/Zend_Layout">Zend_Layout</a>
    components are now in the <a href="http://framework.zend.com/">Zend Framework</a> 
    core. With these two components, you can now create some truly 
    <a href="http://blog.astrumfutura.com/archives/291-Complex-Views-with-the-Zend-Framework-Part-6-Setting-The-Terminology.html">complex views</a>
    for your application with relative ease.
</p>

<p>
    The two components tackle several view related tasks:
</p>

<ul>
    <li>Layouts, or Two Step Views</li>
    <li>Partials (view fragment scripts with their own variable scope)</li>
    <li>Placeholders (store data and/or markup for later retrieval)</li>
    <li>Actions (dispatch a controller action)</li>
</ul></div>

    <p><a href="/blog/152-Zend_Layout-and-Zend_View-Enhanced-components-now-in-core.html">Continue reading...</a></p>
</section>

</div>
<div class="row clearfix">
<aside class="two columns alpha entry meta">
    <p class="date">2007-12-02 10:52:28</p>
    <p class="tags"><a href="/blog/tag/php.html">php</a><br />
<a href="/blog/tag/zend+framework.html">zend framework</a></p>
</aside>

<section class="nine columns omega">
    <h4 class="entry"><a href="/blog/150-Burlington-PHP-Users-Group%2C-December.html">Burlington PHP Users Group, December</a></h4>

    <div class="entry body"><p>
    I've been considering for a good six months trying to organize a PHP Users
    Group for the Burlington, VT, area. When we first moved to Vermont, I was
    surprised (and excited) by the number of PHP shops (which at the time I saw
    as job potential, as I was looking for work), and actually walked my resume
    around to a half-dozen or so. The area has a ton of PHP developers, and it
    only makes sense to have a UG where we can exchange tips and tricks of the
    trade.
</p>

<p>
    Then, about six weeks ago, I mentioned this to my friend Rob. He did what I
    should have done all along, and googled for an existing group -- and found
    one!
</p>

<p>
    The <a href="http://groups.google.com/group/Burlington-VT-PHP">Burlington, VT PHP Users Group</a>
    has been around since November of 2005 on Google Groups, but we're having
    our inaugural meeting this coming Wednesday, 5 December 2007. I'll be
    speaking at this first meeting on Zend Framework's MVC components
</p>

<p>
    If you're in the Burlington area this Wednesday, you should stop by. For
    more details, 
    <a href="http://groups.google.com/group/Burlington-VT-PHP/web/meeting-2007-12-05">visit the event page</a>, 
    and don't forget to RSVP.
</p></div>

    <p><a href="/blog/150-Burlington-PHP-Users-Group%2C-December.html">Continue reading...</a></p>
</section>

</div>
<div class="row clearfix">
<aside class="two columns alpha entry meta">
    <p class="date">2007-10-30 15:33:07</p>
    <p class="tags"><a href="/blog/tag/php.html">php</a><br />
<a href="/blog/tag/books.html">books</a></p>
</aside>

<section class="nine columns omega">
    <h4 class="entry"><a href="/blog/148-PHP-Anthology%2C-2nd-Edition-is-out.html">PHP Anthology, 2nd Edition is out</a></h4>

    <div class="entry body"><p>
    Well, it's now official: <a href="http://www.sitepoint.com/books/phpant2/">The PHP Anthology, 2nd Edition</a>
    is finally out, and, as you'll see if you follow the link, I'm listed as an
    author on it. :-) It's a pleasant surprise to see it out -- I finished my
    chapters back in January, and had almost forgotten about it.
</p></div>

    <p><a href="/blog/148-PHP-Anthology%2C-2nd-Edition-is-out.html">Continue reading...</a></p>
</section>

</div>
<div class="row clearfix">
<aside class="two columns alpha entry meta">
    <p class="date">2007-10-11 20:50:47</p>
    <p class="tags"><a href="/blog/tag/php.html">php</a><br />
<a href="/blog/tag/conferences.html">conferences</a><br />
<a href="/blog/tag/zend+framework.html">zend framework</a><br />
<a href="/blog/tag/zendcon.html">zendcon</a></p>
</aside>

<section class="nine columns omega">
    <h4 class="entry"><a href="/blog/146-ZendCon-is-over-at-last.html">ZendCon is over at last</a></h4>

    <div class="entry body"><p>
    <a href="http://www.zendcon.com/">ZendCon '07</a> is finally over, the dust
    has settled, and I finally find myself with some time alone... practically
    the first I've had since Sunday. The week was fantastic, and I had many good
    conversations and brainstorming sessions. Oh, and I ended up giving three
    different sessions, so it's time for links to slides and materials:
</p>
<ul>
    <li><a href="/uploads/2007-ZendCon-BestPractices.odp">Best Practices of PHP Development</a>. 
        <a href="http://sebastian-bergmann.de/">Sebastian</a>, 
        <a href="http://mikenaberezny.com/">Mike</a>, and I presented a full-day
        tutorial on PHP development best practices, focussing primarily on
        testing and testing strategies, but also covering coding standards,
        usage of SCM tools, and deployment. There were a ton of questions from
        the attendees, and Sebastian even whipped out some extra slides at the
        end showing new and little-known features of PHPUnit. Basically, reading
        the slides won't really indicate what we covered, but is more of a
        general outline. It was an honor and pleasure to work with Sebastian and
        Mike on this, and I hope we can do it again in the future some time.
    </li>

    <li><a href="/uploads/2007-ZendCon-MVC.ppt">Zend Framework MVC Quick Start</a>.
        This was basically the same session I did in my <a href="http://www.zend.com/webinar">webinar</a>
        a couple weeks ago, with a few corrections and a small demonstration.
        Cal put me on directly following <a href="http://terrychay.com/blog">Terry Chay</a>,
        in the largest of the four session rooms -- the one where all the
        keynotes occurred -- talk about intimidating! Amazingly, the session was
        really well attended -- others I talked to estimate between 100 and 150
        people showed up. The most amazing part, though, was that when I asked
        how many people knew what 'MVC' was, I don't think there was a single
        person who didn't raise their hand -- definitely a sign of how well
        accepted the pattern now is in PHP.
    </li>

    <li><a href="/uploads/2007-ZendCon-AjaxPresentation.odp">AJAX-Enabling Your Zend Framework Controllers</a>.
        I did this talk for the <a href="http://www.zendcon.com/wiki/index.php?title=Uncon">Unconference</a>,
        mainly because its a topic I've been interested in and wanted to
        present. In it, I detailed how to ajax-enable an application through
        some easy tricks with Action and View Helpers and using JS to decorate
        your existing application. The reference app I used was a pastebin, and
        I've got code for both <a href="http://dojotoolkit.org">Dojo</a> and 
        <a href="http://prototypejs.org">Prototype</a> flavors available:
        <ul>
            <li><a href="/uploads/PastebinDojo.tar.gz">Dojo pastebin</a></li>
            <li><a href="/uploads/PastebinPrototype.tar.gz">Prototype pastebin</a></li>
        </ul>
    </li>
</ul>

<p>
    The two highlight keynote speakers, for me, were definitely 
    <a href="http://www.joelonsoftware.com/">Joel Spolsky</a> and
    <a href="http://craphound.com/">Cory Doctorow</a>. Neither spoke about PHP,
    but both spoke about topics that PHP developers should take to heart.
    Perhaps I'll elaborate on those in another post.
</p>

<p>
    Another bonus for me was the number of old and new friends alike I got to
    see -- I had many good conversations with Paul M. Jones, Nate Abele, Ivo
    Jansch, and Ralph Schindler, and opportunities to finally meet fellow
    co-author Lig Turmelle, Ben Ramsey, Chris Shifflet (dude, we've been to four
    conferences together, and never yet met!), and many, many others. I was also
    overwhelmed by the number of Zend Framework users who sought me out either
    to ask me questions or simply thank me and the others on the team for the
    project; I'm deeply honored that I can work on a project that affects so
    many developers.
</p>

<p>
    And now for some down time to recuperate...
</p></div>

    <p><a href="/blog/146-ZendCon-is-over-at-last.html">Continue reading...</a></p>
</section>

</div>
<div class="row clearfix">
<aside class="two columns alpha entry meta">
    <p class="date">2007-10-02 07:27:29</p>
    <p class="tags"><a href="/blog/tag/php.html">php</a><br />
<a href="/blog/tag/conferences.html">conferences</a><br />
<a href="/blog/tag/zend+framework.html">zend framework</a></p>
</aside>

<section class="nine columns omega">
    <h4 class="entry"><a href="/blog/145-oh%2C-yeah%2C-zendcon....html">oh, yeah, zendcon...</a></h4>

    <div class="entry body"><p>
    I don't know why I haven't blogged this sooner, but, yes, I'll be speaking
    once again at <a href="http://www.zendcon.com/">ZendCon:</a>
</p>
<p style="text-align:center;"><a href="http://www.zend.com.com" ><img src="http://s3.amazonaws.com/zendcon/ZendCon07_SpeakerBadge.gif" border="0"></a></p>

<p>
    I'll be presenting a number of times:
</p>

<ul>
    <li>On Monday, I join <a href="http://sebastian-bergmann.de/">Sebastian Bergmann</a> 
        and <a href="http://naberezny.com/">Mike Naberezny</a> in a full-day
        tutorial session on PHP Development Best Practices and Unit Testing.
        This expands on what Mike and I did last year, and will more heavily
        emphasize the role of testing in the development process -- arguably the
        most important best practice you can adopt.</li>
    <li>On Tuesday monrning, I'll present a Zend Framework MVC Quick Start. This
        talk is based on a <a href="http://weierophinney.net/matthew/archives/144-Zend-Framework-MVC-Webinar-posted.html">webinar</a> 
        I recently gave for Zend, and covers the various pieces of the MVC layer
        in Zend Framework.
    </li>
    <li>Tuesday evening, I'll present an <a href="http://zendcon.com/wiki/index.php?title=Uncon">Unconference</a>
        session on Ajax-enabling your Zend Framework controllers. I don't know
        yet if I'll need the whole hour, but I can probably fill it up with some
        examples of decorating your apps with AJAX.
    </li>
</ul>

<p>
    Looking forward to seeing you all there!
</p></div>

    <p><a href="/blog/145-oh%2C-yeah%2C-zendcon....html">Continue reading...</a></p>
</section>

</div>
<div class="row clearfix">
<aside class="two columns alpha entry meta">
    <p class="date">2007-09-26 09:25:09</p>
    <p class="tags"><a href="/blog/tag/php.html">php</a><br />
<a href="/blog/tag/zend+framework.html">zend framework</a></p>
</aside>

<section class="nine columns omega">
    <h4 class="entry"><a href="/blog/144-Zend-Framework-MVC-Webinar-posted.html">Zend Framework MVC Webinar posted</a></h4>

    <div class="entry body"><p>
    Last Wednesday, I presented a webinar for Zend entitled "MVC applications
    with Zend Framework". We had more than 50 attendees, most of whom stayed on
    the whole time. For those of you who attended, thanks for the great
    questions and comments. 
</p>
<p>
    If you would like to view the webinar, download the slides, or download the
    example code (a hello world app), visit the <a
        href="http://www.zend.com/webinar">Zend.com Webinar page</a> and look
    for the presentation; as of today, it's the first one on the list, but that
    will change as more webinars are presented.
</p></div>

    <p><a href="/blog/144-Zend-Framework-MVC-Webinar-posted.html">Continue reading...</a></p>
</section>

</div>
<div class="row clearfix">
<aside class="two columns alpha entry meta">
    <p class="date">2007-09-14 10:27:56</p>
    <p class="tags"><a href="/blog/tag/php.html">php</a><br />
<a href="/blog/tag/zend+framework.html">zend framework</a></p>
</aside>

<section class="nine columns omega">
    <h4 class="entry"><a href="/blog/143-NYPHP-Zend-Framework-Presentation.html">NYPHP Zend Framework Presentation</a></h4>

    <div class="entry body"><p>
    This past Wednesday, <a href="http://www.zend.com/">Zend's</a> Chief
    Marketing Officer, <a href="http://blogs.zend.com/author/mark/">Mark de
        Visser</a>, and myself joined the <a href="http://nyphp.org/">NYPHP</a>
    group for a <a
        href="http://nyphp.org/content/calendar/view_entry.php?id=112&date=20070912">special
        event meeting</a>. Mark presented information on Zend's development
    stack and toolset (which I entirely missed, as I was still in transit), and
    I came in to give an overview of <a href="http://framework.zend.com/">Zend
        Framework</a>.
</p>

<p>
    There were some great questions, and nice discussions following the event.
    If you live in New York and do PHP for a living, and haven't attended, you
    should; if you're ever visiting the area, see if you can attend a meeting!
</p>

<p>
    <a href="/uploads/FrameworkPresentation.zip"
        title="FrameworkPresentation.zip" target="_blank">Here are the
        slides.</a> They're done using <a
        href="http://meyerweb.com/eric/tools/s5/">S5</a>, a browser-based
    slideshow system. Simply unzip and double-click on index.html to start
    viewing.
</p></div>

    <p><a href="/blog/143-NYPHP-Zend-Framework-Presentation.html">Continue reading...</a></p>
</section>

</div>
<div class="row clearfix">
<aside class="two columns alpha entry meta">
    <p class="date">2007-07-05 17:26:00</p>
    <p class="tags"><a href="/blog/tag/php.html">php</a><br />
<a href="/blog/tag/pear.html">pear</a></p>
</aside>

<section class="nine columns omega">
    <h4 class="entry"><a href="/blog/142-File_Fortune-refactored.html">File_Fortune refactored</a></h4>

    <div class="entry body"><p>
    Over the past few evenings, I've refactored <a href="http://pear.php.net/trackback/trackback.php?id=File_Fortune">File_Fortune</a>
    to have it implement Iterator, Countable, and ArrayAccess -- basically
    allowing it to act like an array for most intents and purposes. As a result,
    I've eliminated the need for the <kbd>File_Fortune_Writer</kbd> package, and
    greatly simplified the usage.
</p>

<p>
    (Note: sure, File_Fortune may not be that big of a deal, but over 1000
    downloads in the past two years indicates <em>somebody</em> is using it.
    Plus, it powers the random quotes on the family website. :-) )
</p>

<p>
    As some examples:
</p>
<div class="example"><pre><code lang="php">
require_once 'File/Fortune.php';

// Initialize and point it to a directory of fortunes
$fortunes = new File_Fortune('/path/to/fortunedir');

// Retrieve a random fortune 
// (works with either a directory or a single fortune file)
echo $fortunes-&gt;getRandom();

// Set to a specific fortune file:
$fortunes-&gt;setFile('myfortunes');

// Loop through and print all fortunes
foreach ($fortunes as $fortune) {
    echo str_repeat('-', 72), \&quot;\n\&quot;, $fortune, \&quot;\n\n\&quot;;
}

// Hmmm.. let's change one:
$fortunes[7] = \&quot;I never really liked that fortune anyways.\&quot;;

// No need to explicitly save, as it's done during __destruct(), 
// but if you really want to:
$fortunes-&gt;save();

// Let's add a new fortune:
$fortunes-&gt;add('This is a shiny new fortune!');

// and now we'll verify it exists:
$index = count($fortunes) - 1;
echo $fortunes[$index];
</code></pre></div>

<p>
    All-in-all, it's a much better interface. Lesson learned: when porting code
    from other languages, it pays to take some time and determine if there might
    be a better API in your own.
</p>
<p>
    In upcoming releases, I hope to modify the backend to use PHP's Streams API
    instead of direct file access, and also to allow providing a list of fortune
    files explicitly. After that, I should be ready for the initial stable
    release.
</p>

<p><b>Update (2007-07-10): fixed parse error in examples</b></p></div>

    <p><a href="/blog/142-File_Fortune-refactored.html">Continue reading...</a></p>
</section>

</div>
<div class="row clearfix">
<aside class="two columns alpha entry meta">
    <p class="date">2007-05-20 12:23:50</p>
    <p class="tags"><a href="/blog/tag/php.html">php</a></p>
</aside>

<section class="nine columns omega">
    <h4 class="entry"><a href="/blog/140-Globals%2C-continued.html">Globals, continued</a></h4>

    <div class="entry body"><p>
    <b>Update:</b> Sara has pointed out a flaw in my last case. The file 'loadFileWithGlobals.php' was incorrectly loading the wrong file -- it should be loading 'withGlobals2.php' (updated now). When it does, access to 'baz2' works as it should.
</p>
<p>
    As I note to in my comment, however, I stand by my original rant: relying on globals for your applications is a bad practice, as it makes them difficult to integrate with other applications later. Developers using your application should not need to hunt down exactly when a global is first declared and explicitly push it into the global scope in order to get that application to integrate with others. Use other means, such as singletons or registries, to persist configuration within your applications.
</p>
<hr />
<p>
    In <a href="/matthew/index.php?url=archives/139-PHP-globals-for-the-OOP-developer.html">my last entry</a>, 
    I evidently greatly simplified the issue to the point that my example
    actually didn't display the behaviour I had observed. I'm going to show a
    more detailed example that shows exactly the behaviour that was causing
    issues for me.
</p>

<p>
    First off, this has specifically to do with including files from within
    functions or class methods that then call on other files that define values
    in the global scope. In the original example, I show an action controller
    method that includes the serendipity bootstrap file, which in turn loads a
    configuration file that sets a multi-dimensional array variable in the
    global scope. Without first defining the variable in the global scope, this
    method of running serendipity fails.
</p>

<p>
    Now, for the examples.
</p></div>

    <p><a href="/blog/140-Globals%2C-continued.html">Continue reading...</a></p>
</section>

</div>
<div class="row clearfix">
<aside class="two columns alpha entry meta">
    <p class="date">2007-05-19 09:42:48</p>
    <p class="tags"><a href="/blog/tag/php.html">php</a></p>
</aside>

<section class="nine columns omega">
    <h4 class="entry"><a href="/blog/139-PHP-globals-for-the-OOP-developer.html">PHP globals for the OOP developer</a></h4>

    <div class="entry body"><p>
    <b>Update:</b> I evidently simplified the issue too much, and have had several
    people rightly comment on the bogosity of the issue. However, there are still situations
    where <kbd>$GLOBALS</kbd> does not act as expected, and I outline these in
    <a href="http://weierophinney.net/matthew/archives/140-Globals,-continued.html">my next entry</a>.
</p>
<hr />
<p>
    In my <a
        href="/matthew/archives/138-Start-Writing-Embeddable-Applications.html">previous
        entry</a>, I ranted about the use of globals in popular PHP
    applications, and how they make embedding said applications difficult. I
    develop using object-oriented practices, and can honestly say I can't recall
    ever having slung a global variable around in my own code. Globals seem
    hackish to me, and as a result, trying to get applications that use them
    to behave correctly has been a challenge.
</p>

<p>
    One of the applications I had in mind was <a
        href="http://www.s9y.org">Serendipity</a>, the software that powers this
    blog. I was attempting to create a Zend Framework action controller that
    wraps my s9y instance so that I can do things such as apply ACLs from my
    website to selected entries, as well as pull the sitewide skeleton out from
    s9y so that I only have to maintain one version of it (I had one version for
    s9y, and another for my own content featured on the site (resume, contact
    form, etc.).
</p>

<p>
    I tried importing the various config files into my action method prior to
    invoking the actual s9y bootstrap, but no dice. I also tried modifying the
    s9y config files to use the notation <kbd>$GLOBALS['serendipity']</kbd>
    around the serendipity configuration variables (s9y uses a single
    multi-dimensional array for all configuration options). This didn't work,
    either; s9y functions that called <kbd>global $serendipity</kbd> were still
    getting a null value.
</p>

<p>
    So, I did a little closer reading in the manual <a
        href="http://php.net/language.variables.predefined">section on
        predefined variables</a>, I discovered something interesting in the
    description of <kbd>$GLOBALS</kbd> (emphasis mine):
</p>

<blockquote>
    Contains a reference to every variable which is <em>currently</em> available
    within the global scope of the script.
</blockquote>

<p>
    Interestingly, the section on variable scope didn't make this distinction at
    all. Basically, if the variable you reference via <kbd>$GLOBALS</kbd> does
    not already exist, assigning it <em>does nothing</em>. It doesn't even raise
    a notice. It just silently goes ahead, leaving you thinking you set a new
    global variable, but in fact, you cannot assign new globals via
    <kbd>$GLOBALS</kbd>; you can only modify <em>existing</em> variables in the
    global scope.
</p>

<p>
    So, I got around the issue by putting this in my front controller bootstrap:
</p>

<div class="example"><pre><code lang="php">
$serendipity = null;
</code></pre></div>

<p>
    After that, I was able to create a wrapper action controller for s9y very
    easily:
</p>

<div class="example"><pre><code lang="php">
/** Zend_Controller_Action */
require_once 'Zend/Controller/Action.php';

/**
 * Serendipity integration
 * 
 * @uses       Zend_Controller_Action
  */
class S9y_IndexController extends Zend_Controller_Action
{
    public function init()
    {
        // New ViewRenderer helper in ZF incubator; telling it not
        // to autorender a view script when done
        $this-&gt;_helper-&gt;viewRenderer-&gt;initView(null, null, array('noRender' =&gt; true));
    }

    public function indexAction()
    {
        global $serendipity;
        chdir($_SERVER['DOCUMENT_ROOT'] . '/path/to/s9y');
        include './index.php';
        chdir($_SERVER['DOCUMENT_ROOT']);
    }
}
</code></pre></div>

<p>
    Note that I don't do any output buffering; this is because the ZF dispatcher
    takes care of that for me. All I need to do is execute the s9y bootstrap.
</p>

<p>
    So, the lesson to learn from all this: if you need to wrap an application
    that uses globals, find out what all of them are, and declare them in the
    global namespace -- just setting them to null is enough -- in your
    application bootstrap.
</p></div>

    <p><a href="/blog/139-PHP-globals-for-the-OOP-developer.html">Continue reading...</a></p>
</section>

</div>
<div class="paginationControl">
        <a href="/blog/tag/php.html" class="first">&lt;&lt; First</a> |
        <a href="/blog/tag/php-p11.html"> &lt; Previous </a> |
        <a href="/blog/tag/php-p8.html">8</a> |
            <a href="/blog/tag/php-p9.html">9</a> |
            <a href="/blog/tag/php-p10.html">10</a> |
            <a href="/blog/tag/php-p11.html">11</a> |
            <span class="current">12</span> |
            <a href="/blog/tag/php-p13.html">13</a> |
            <a href="/blog/tag/php-p14.html">14</a> |
            <a href="/blog/tag/php-p15.html">15</a> |
            <a href="/blog/tag/php-p16.html">16</a> |
            <a href="/blog/tag/php-p17.html">17</a> |
            <a href="/blog/tag/php-p13.html"> Next &gt;</a> |
        <a href="/blog/tag/php-p21.html" class="last"> Last &gt;&gt;</a>
</div>

</section>

<aside class="four columns offset-by-one omega sidebar blog">
        <div class="metadata">
        <h4>Blogroll</h4>
        <ul>
            <li><a href="http://sebastian-bergmann.de/">Sebastian Bergmann</a></li>
            <li><a href="http://blog.calevans.com/">Cal Evans</a></li>
            <li><a href="http://prematureoptimization.org/blog/">Shahar Evron</a></li>
            <li><a href="http://paul-m-jones.com/blog/">Paul M. Jones</a></li>
            <li><a href="http://karwin.blogspot.com/">Bill Karwin</a></li>
            <li><a href="http://mikenaberezny.com/">Mike Naberezny</a></li>
            <li><a href="http://fabien.potencier.org/">Fabien Potencier</a></li>
            <li><a href="http://benramsey.com/">Ben Ramsey</a></li>
            <li><a href="http://derickrethans.nl/">Derick Rethans</a></li>
            <li><a href="http://ralphschindler.com/">Ralph Schindler</a></li>
            <li><a href="http://www.zimuel.it/blog/">Enrico Zimuel</a></li>
        </ul>
    </div>

</aside>
</div>
    </div>

    <footer class="sixteen columns footer">
        <div class="column one-third alpha about">
            <h4>About</h4>
            <p>
    I'm a husband, father of two, plaything of a Basset puppy, and web 
    architect by day.
</p>

<ul class="resume">
    <li><a href="/resume">Resume</a></li>
    <li><a href="http://twitter.com/weierophinney">Twitter</a></li>
    <li><a href="http://www.linkedin.com/in/mweierophinney">LinkedIn</a></li>
    <li><a href="http://www.ohloh.net/accounts/weierophinney">OhLoh</a></li>
    <li><a href="http://resume.github.com/?weierophinney">GitHub</a></li>
</ul>

        </div>

        <div class="column one-third projects">
            <h4>Projects</h4>
            <ul class="projects">
    <li><a href="http://framework.zend.com/">Zend Framework (Project Lead)</a></li>
    <li><a href="http://github.com/weierophinney/phly_mustache">Phly_Mustache</a></li>
    <li><a href="http://www.the-pastry-box-project.net/baker/matthew-weier-ophinney/">The Pastry Box Project</a> (as a Baker)</li>
</ul>

        </div>

        <div class="column one-third omega tags">
        <div id="search" style="width:100%;">Loading...</div>
<h4>Tag Cloud</h4>
<div class="cloud">
<ul class="Zend\Tag\Cloud"><li><a href="/blog/tag/php.html" style="font-size: 20px;">php</a></li> <li><a href="/blog/tag/zend+framework.html" style="font-size: 14px;">zend framework</a></li> <li><a href="/blog/tag/zf2.html" style="font-size: 11px;">zf2</a></li> <li><a href="/blog/tag/vim.html" style="font-size: 11px;">vim</a></li> <li><a href="/blog/tag/family.html" style="font-size: 11px;">family</a></li> <li><a href="/blog/tag/programming.html" style="font-size: 12px;">programming</a></li> <li><a href="/blog/tag/personal.html" style="font-size: 13px;">personal</a></li> <li><a href="/blog/tag/phpconcom.html" style="font-size: 10px;">phpconcom</a></li> <li><a href="/blog/tag/mvc.html" style="font-size: 11px;">mvc</a></li> <li><a href="/blog/tag/oop.html" style="font-size: 11px;">oop</a></li> <li><a href="/blog/tag/testing.html" style="font-size: 10px;">testing</a></li> <li><a href="/blog/tag/rest.html" style="font-size: 11px;">rest</a></li> <li><a href="/blog/tag/linux.html" style="font-size: 12px;">linux</a></li> <li><a href="/blog/tag/zendcon08.html" style="font-size: 11px;">zendcon08</a></li> <li><a href="/blog/tag/file_fortune.html" style="font-size: 10px;">file_fortune</a></li> <li><a href="/blog/tag/pear.html" style="font-size: 11px;">pear</a></li> <li><a href="/blog/tag/zendcon.html" style="font-size: 11px;">zendcon</a></li> <li><a href="/blog/tag/perl.html" style="font-size: 12px;">perl</a></li> <li><a href="/blog/tag/fastcgi.html" style="font-size: 10px;">fastcgi</a></li> <li><a href="/blog/tag/ubuntu.html" style="font-size: 11px;">ubuntu</a></li> <li><a href="/blog/tag/tekx.html" style="font-size: 10px;">tekx</a></li> <li><a href="/blog/tag/zendcon10.html" style="font-size: 10px;">zendcon10</a></li> <li><a href="/blog/tag/dojo.html" style="font-size: 11px;">dojo</a></li> <li><a href="/blog/tag/symfony.html" style="font-size: 11px;">symfony</a></li> <li><a href="/blog/tag/zeta+components.html" style="font-size: 10px;">zeta components</a></li> <li><a href="/blog/tag/tek09.html" style="font-size: 10px;">tek09</a></li> <li><a href="/blog/tag/spl.html" style="font-size: 11px;">spl</a></li> <li><a href="/blog/tag/subversion.html" style="font-size: 11px;">subversion</a></li> <li><a href="/blog/tag/zend+framewor.html" style="font-size: 10px;">zend framewor</a></li> <li><a href="/blog/tag/rails.html" style="font-size: 10px;">rails</a></li> <li><a href="/blog/tag/conferences.html" style="font-size: 11px;">conferences</a></li> <li><a href="/blog/tag/dpc08.html" style="font-size: 11px;">dpc08</a></li> <li><a href="/blog/tag/phpworks08.html" style="font-size: 11px;">phpworks08</a></li> <li><a href="/blog/tag/webinar.html" style="font-size: 11px;">webinar</a></li> <li><a href="/blog/tag/zencon08.html" style="font-size: 10px;">zencon08</a></li> <li><a href="/blog/tag/cw09.html" style="font-size: 11px;">cw09</a></li> <li><a href="/blog/tag/zend+server.html" style="font-size: 10px;">zend server</a></li> <li><a href="/blog/tag/dpc09.html" style="font-size: 10px;">dpc09</a></li> <li><a href="/blog/tag/sflive2010.html" style="font-size: 10px;">sflive2010</a></li> <li><a href="/blog/tag/security.html" style="font-size: 10px;">security</a></li> <li><a href="/blog/tag/wifi.html" style="font-size: 10px;">wifi</a></li> <li><a href="/blog/tag/aikido.html" style="font-size: 10px;">aikido</a></li> <li><a href="/blog/tag/books.html" style="font-size: 10px;">books</a></li> <li><a href="/blog/tag/dpc10.html" style="font-size: 10px;">dpc10</a></li> <li><a href="/blog/tag/zendcon09.html" style="font-size: 11px;">zendcon09</a></li> <li><a href="/blog/tag/git.html" style="font-size: 10px;">git</a></li> <li><a href="/blog/tag/phpwomen.html" style="font-size: 10px;">phpwomen</a></li> <li><a href="/blog/tag/virtualbox.html" style="font-size: 10px;">virtualbox</a></li> <li><a href="/blog/tag/advocacy.html" style="font-size: 10px;">advocacy</a></li> <li><a href="/blog/tag/politics.html" style="font-size: 10px;">politics</a></li> <li><a href="/blog/tag/internet.html" style="font-size: 10px;">internet</a></li></ul></div>
        </div>

        <br class="clear"/>

        <div class="copyright">
            Unless otherwise noted, &#169; 2004 - 2012, Matthew Weier O'Phinney
        </div>
    </footer>
</div>
</body>
</html>
